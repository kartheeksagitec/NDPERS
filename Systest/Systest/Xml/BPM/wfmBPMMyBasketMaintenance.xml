<form ID="wfmBPMMyBasketMaintenance" sfwActive="True" sfwStatus="Review" sfwType="Maintenance" sfwTitle="BPM My Basket" version="3.5" sfwDefaultButtonID="btnSearchActivities" sfwNewMessageID="5" sfwOpenMessageID="5" sfwFormObjectType="RemoteObject" sfwEntity="entBpmMyBasket" sfwResource="2063" sfwRemoteObject="srvBPMN">
  <initialload>
    <callmethods sfwMethodName="SearchAndLoadMyBasket" />
  </initialload>
  <sfwTable ID="Main">
    <sfwRow>
      <sfwColumn>
        <sfwPanel ID="pnlNewPanel">
          <sfwTable ID="tblNewPage" sfwCaption="New Page">
            <sfwRow>
              <sfwColumn>
                <sfwButton ID="btnRefresh" sfwMethodName="btnCancel_Click" Text="Refresh" CssClass="hideControl" />
              </sfwColumn>
            </sfwRow>
          </sfwTable>
        </sfwPanel>
      </sfwColumn>
    </sfwRow>
    <sfwRow>
      <sfwColumn>
        <sfwPanel ID="pnlMain" sfwCaption="Search Criteria">
          <sfwTable CssClass="Table" ID="tblMain">
            <sfwRow>
              <sfwColumn>
                <sfwLabel CssClass="LeftAlignedLabel" ID="capIstrProcessName" SkinID="LeftAlignedLabel" Text="Process Name :" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn ColumnSpan="3">
                <sfwDropDownList ID="ddlIintProcessID" sfwEntityField="IintProcessID" DataTextField="name" DataValueField="process_id" sfwLoadType="Query" sfwLoadSource="entBpmProcess.GetProcessesForBpmMyBasket" />
              </sfwColumn>
            </sfwRow>
            <sfwRow>
              <sfwColumn>
                <sfwLabel ID="capIintRoleId1" Text="Role : " AssociatedControlID="ddlIintRoleId1" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwDropDownList ID="ddlIintRoleId1" sfwEntityField="IintRoleId" sfwLoadType="Query" sfwLoadSource="entRoles.ListOfRoles" DataTextField="role_description" DataValueField="role_id" />
              </sfwColumn>
              <sfwColumn />
              <sfwColumn />
            </sfwRow>
            <sfwRow>
              <sfwColumn>
                <sfwLabel CssClass="LeftAlignedLabel" ID="capPersonID" SkinID="LeftAlignedLabel" Text="PERSLink ID:" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwTextBox ID="txtPersonId" sfwDataFormat="{0:999999999}" sfwCustomAttributes="maxlength=#10" sfwEntityField="IintPersonID" />
                <sfwImageButton ID="btnRetrieve" ImageAlign="AbsMiddle" ImageUrl="~/Images/Lookup.jpg" sfwActiveForm="wfmPersonLookup" sfwMethodName="btnRetrieve_Click" sfwRelatedControl="txtPersonId" sfwSelectedIndex="PersonId" />
              </sfwColumn>
              <sfwColumn>
                <sfwLabel CssClass="LeftAlignedLabel" ID="capIintOrgID" SkinID="LeftAlignedLabel" Text="Org Code ID  :" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwTextBox ID="txtIstrOrgCode" sfwEntityField="IstrOrgCode" sfwRetrievalQuery="entOrganization.GetOrgFromOrgCode" sfwParameters="OrgCode=txtIstrOrgCode" sfwRetrievalControls="txtOrgId=org_id;lblOrgNameRet=org_name" />
                <sfwImageButton ID="btnRetrieveOrganization" ImageAlign="AbsMiddle" ImageUrl="~/Images/Lookup.jpg" sfwActiveForm="wfmOrganizationLookup" sfwMethodName="btnRetrieve_Click" sfwRelatedControl="txtIstrOrgCode" sfwSelectedIndex="OrgCode" />
                <sfwTextBox ID="txtOrgId" sfwDataType="Numeric" sfwEntityField="IintSearchOrgID" CssClass="hideControl" />
              </sfwColumn>
            </sfwRow>
            <sfwRow>
              <sfwColumn>
                <sfwLabel CssClass="LeftAlignedLabel" ID="capIdteRequestDateFrom" SkinID="LeftAlignedLabel" Text="Initiated Date From :" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwTextBox ID="txtRequestDateFrom" sfwDataFormat="{0:d}" sfwDataType="DateTime" sfwEntityField="IdtRequestDateFrom" />
                <CompareValidator ControlToValidate="txtRequestDateFrom" ErrorMessage="Request date from must be in mm/dd/yyyy format" ID="cmv" Operator="DataTypeCheck" Text="*" Type="Date" />
              </sfwColumn>
              <sfwColumn>
                <sfwLabel CssClass="LeftAlignedLabel" ID="capIdteRequestDateTo" SkinID="LeftAlignedLabel" Text="Initiated Date To :" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwTextBox ID="txtRequestDateTo" sfwDataFormat="{0:d}" sfwDataType="DateTime" sfwEntityField="IdtRequestDateTo" />
                <CompareValidator ControlToValidate="txtRequestDateTo" ErrorMessage="Request date to must be in mm/dd/yyyy format" ID="cmv1" Operator="DataTypeCheck" Text="*" Type="Date" />
                <CompareValidator ControlToCompare="txtRequestDateFrom" ControlToValidate="txtRequestDateTo" ErrorMessage="Initiated Date To cannot be less than Initiated Date From." ID="cmv2" Operator="GreaterThanEqual" Text="*" Type="Date" />
              </sfwColumn>
            </sfwRow>
            <sfwRow>
              <sfwColumn>
                <sfwLabel ID="capIstrFilterType" Text="Activity Instance Status :" AssociatedControlID="ddlIstrFilterType" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwDropDownList ID="ddlDropDownList" sfwEntityField="lstrActivityInstanceStatus" sfwLoadType="Query" sfwLoadSource="entBpmMyBasket.LoadActivityInstanceStatusValuebycodeID" DataTextField="description" DataValueField="code_value" />
              </sfwColumn>
              <sfwColumn>
                <sfwLabel ID="lblLabel1" Text="Priority : " AssociatedControlID="ddlIstrFilterType" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwDropDownList ID="ddlDropDownList1" sfwEntityField="lstrProcessPriority" sfwLoadType="CodeGroup" sfwLoadSource="3008" />
              </sfwColumn>
            </sfwRow>
            <sfwRow>
              <sfwColumn>
                <sfwLabel ID="capLdtDueDateFrom" Text="Due Date From : " AssociatedControlID="txtLdtDueDateFrom" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwTextBox ID="txtLdtDueDateFrom" sfwEntityField="ldtDueDateFrom" sfwDataFormat="{0:d}" />
                <CompareValidator ID="cmvCompareValidator" Operator="DataTypeCheck" Type="Date" Text="*" ControlToValidate="txtLdtDueDateFrom" ErrorMessage="Due date from must be in mm/dd/yyyy format" />
              </sfwColumn>
              <sfwColumn>
                <sfwLabel ID="capLdtDueDateTo" Text="Due Date To : " AssociatedControlID="txtLdtDueDateTo" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwTextBox ID="txtLdtDueDateTo" sfwEntityField="ldtDueDateTo" sfwDataFormat="{0:d}" />
                <CompareValidator ID="cmvCompareValidator1" Operator="DataTypeCheck" Type="Date" ControlToValidate="txtLdtDueDateTo" Text="*" ErrorMessage="Due date to must be in mm/dd/yyyy format" />
                <CompareValidator ID="cmvCompareValidator2" Operator="GreaterThanEqual" Type="Date" ControlToValidate="txtLdtDueDateTo" ControlToCompare="txtLdtDueDateFrom" Text="*" ErrorMessage="Due Date To cannot be less than Initiated Date From." />
              </sfwColumn>
            </sfwRow>
            <sfwRow>
              <sfwColumn>
                <sfwButton ID="btnSearchActivities" sfwMethodName="btnValidateExecuteBusinessMethod_Click" sfwObjectMethod="SearchAndLoadMyBasket" sfwRefreshFromObject="True" Text="Apply Filter" sfwMessageId="26" />
              </sfwColumn>
              <sfwColumn>
                <sfwButton ID="btnRefreshData" sfwMethodName="btnCancel_Click" Text="Refresh Data" CssClass="hideControl" Visible="False" />
              </sfwColumn>
              <sfwColumn>
                <sfwLabel ID="capIstrUserId" Text="User ID : " sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwTextBox ID="txtIstrUserId" sfwEntityField="IstrUserId" />
              </sfwColumn>
            </sfwRow>
            <sfwRow>
              <sfwColumn>
                <sfwLabel CssClass="LeftAlignedLabel" ID="capIstrMyBasketFilter" SkinID="LeftAlignedLabel" Text="My Basket Filter :" Visible="False" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwDropDownList DataTextField="description" DataValueField="code_value" ID="ddlIstrMyBasketFilter" sfwDefaultValue="WKPO" Visible="False" sfwLoadType="CodeGroup" sfwLoadSource="2008" sfwEntityField="IstrMyBasketFilter" />
              </sfwColumn>
              <sfwColumn>
                <sfwLabel CssClass="LeftAlignedLabel" ID="capIstrSource" SkinID="LeftAlignedLabel" Text="Source :" Visible="False" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwDropDownList DataTextField="description" DataValueField="code_value" ID="ddlIstrSource" Visible="False" sfwLoadType="CodeGroup" sfwLoadSource="2021" sfwEntityField="IstrSource" />
              </sfwColumn>
            </sfwRow>
            <sfwRow>
              <sfwColumn>
                <sfwLabel CssClass="LeftAlignedLabel" ID="capIintReferenceId" SkinID="LeftAlignedLabel" Text="Reference ID :" Visible="False" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwTextBox ID="txtReferenceId" sfwDataType="Numeric" sfwDataFormat="{0:999999999}" Visible="False" sfwEntityField="IintReferenceID" />
              </sfwColumn>
              <sfwColumn>
                <sfwLabel AssociatedControlID="ddlIintRoleId" CssClass="LeftAlignedLabel" ID="capIintRoleId" sfwVisibleRule="VisibleWfMgrRoleDropdown" SkinID="LeftAlignedLabel" Text="Role Name :" Visible="False" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwDropDownList ID="ddlIintRoleId" sfwVisibleRule="VisibleWfMgrRoleDropdown" DataTextField="role_description" DataValueField="role_id" Visible="False" sfwLoadType="Method" sfwLoadSource="GetListOfRoles" sfwEntityField="IintRoleId" />
              </sfwColumn>
            </sfwRow>
          </sfwTable>
        </sfwPanel>
      </sfwColumn>
    </sfwRow>
    <sfwRow>
      <sfwColumn>
        <sfwPanel ID="pnlWorkPoolTab" sfwCaption="Work Pool" sfwVisibleRule="Visible Rule - Workpool Tab">
          <sfwTable CssClass="Table" ID="tblWorkPoolTab">
            <sfwRow>
	    <sfwColumn>
                <sfwButton ID="btnExportToExcel" sfwMethodName="btnColumnsToExport_Click" Text="Export To Excel" sfwRelatedControl="grvRoleAssginedActivities" />
              </sfwColumn>
              <sfwColumn Visible="False">
                <sfwButton ID="btnInProcess2" sfwMethodName="btnWorkflowExecuteMethod_Click" sfwSecurityLevel="2" Text="InProcess" Visible="False" sfwRefreshUpdatePanels="uppWorkflowNew" sfwRelatedControl="grvRoleAssginedActivities" sfwNavigationParameter="aintActivityInstanceId=ActivityInstanceId" />
                <sfwButton ID="btnCheckout" sfwCheckOut="True" sfwMethodName="btnWorkflowExecuteMethod_Click" sfwSecurityLevel="2" Text="Checkout" sfwRefreshUpdatePanels="uppWorkflowNew" sfwRelatedControl="grvRoleAssginedActivities" sfwNavigationParameter="aintActivityInstanceId=ActivityInstanceId" />
                <sfwButton ID="btnViewDetails" sfwActiveForm="wfmBpmActivityInstanceMaintenance" sfwMethodName="btnOpen_Click" sfwNavigationParameter="aintactivityinstanceid=ActivityInstanceId" sfwRelatedControl="grvRoleAssginedActivities" Text="Open" />
                <sfwButton ID="btnView" sfwMethodName="btnWorkflowExecuteMethod_Click" Text="View" Visible="False" OnClientClick="OpenECMDocumentImage(e)" />
                <sfwButton ID="btnSendToPool" sfwMethodName="btnExecuteBusinessMethodSelectRows_Click" Text="Send to pool" sfwObjectMethod="UnassignActivityInstances" sfwRelatedControl="grvRoleAssginedActivities" sfwRefreshFromObject="True" Visible="False" />
                <sfwButton ID="btnViewTaskDetails" sfwMethodName="btnWorkflowExecuteMethod_Click" Text="View Task Details" sfwViewActivityScreen="True" sfwRelatedControl="grvRoleAssginedActivities" />
                <sfwButton ID="btnResumeButton" sfwMethodName="btnWorkflowExecuteMethod_Click" Text="Resume" Visible="False" sfwResume="True" sfwRelatedControl="grvRoleAssginedActivities" sfwNavigationParameter="aintActivityInstanceId=ActivityInstanceId" />
              </sfwColumn>
            </sfwRow>
            <sfwRow>
              <sfwColumn>
                <sfwGridView AllowPaging="True" AllowSorting="True" AutoGenerateColumns="False" ID="grvRoleAssginedActivities" PageSize="50" sfwEntityField="lstRoleAssignedActivities" sfwGridEntity="entSolBpmActivityInstance">
                  <Columns>
                    <TemplateField HeaderText="ID" Visible="False">
                      <ItemTemplate>
                        <sfwLabel sfwEntityField="ActivityInstanceId" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="Process Name">
                      <ItemTemplate>
                        <sfwLabel sfwEntityField="objBpmProcessInstance.objBpmProcess.Name" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="Activity Name">
                      <ItemTemplate>
                        <sfwLabel sfwEntityField="objBpmActivity.Name" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="Date Initiated" ItemStyle.HorizontalAlign="Right">
                      <ItemTemplate>
                        <sfwLabel sfwDataFormat="{0:G}" sfwEntityField="CreatedDate" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="Activity Instance Status">
                      <ItemTemplate>
                        <sfwLabel sfwEntityField="StatusDescription" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="Action">
                      <ItemTemplate>
                        <sfwLabel ID="lblLabel3" sfwLinkable="True" sfwRelatedControl="btnCheckout" Text="Checkout" sfwVisibleRule="VisibleCheckoutLink" sfwEntityField="IstrCheckout" />
                        <sfwLabel ID="lblLabel4" Text="Launch" sfwVisibleRule="VisibleLaunchLink" sfwRelatedControl="btnInProcess2" sfwLinkable="True" sfwEntityField="IstrLaunch" />
                        <sfwLabel ID="lblResumeActivityInstance" Text="Resume" sfwVisibleRule="VisibleResumeLink" sfwRelatedControl="btnResumeButton" sfwLinkable="True" sfwEntityField="IstrResume" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="View Details">
                      <ItemTemplate>
                        <sfwLabel Text="View Details" sfwLinkable="True" sfwRelatedControl="btnViewDetails" sfwIsCaption="True" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="PERSLink ID">
                      <ItemTemplate>
                        <sfwLabel sfwEntityField="objBpmProcessInstance.objBpmCaseInstance.PersonId" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="Person Name">
                      <ItemTemplate>
                        <sfwLabel sfwEntityField="objBpmProcessInstance.objBpmCaseInstance.objPerson.PersonName" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="Organization ID" ItemStyle.HorizontalAlign="Right" Visible="False">
                      <ItemTemplate>
                        <sfwLabel sfwEntityField="objBpmProcessInstance.objBpmCaseInstance.objOrganization.OrgId" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="Org Code ID" ItemStyle.HorizontalAlign="Right">
                      <ItemTemplate>
                        <sfwLabel sfwEntityField="objBpmProcessInstance.objBpmCaseInstance.objOrganization.OrgCode" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="Organization Name">
                      <ItemTemplate>
                        <sfwLabel sfwEntityField="objBpmProcessInstance.objBpmCaseInstance.objOrganization.OrgName" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="Reference Id" Visible="False">
                      <ItemTemplate>
                        <sfwLabel sfwEntityField="objBpmProcessInstance.objBpmCaseInstance.ReferenceId" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="Unassign">
                      <ItemTemplate>
                        <sfwLabel sfwLinkable="True" sfwRelatedControl="btnSendToPool" sfwVisibleRule="VisibleLaunchLink" sfwEntityField="IstrUnassign" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="User ID">
                      <ItemTemplate>
                        <sfwLabel sfwEntityField="CheckedOutUser" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="View">
                      <ItemTemplate>
                        <sfwLabel sfwLinkable="True" sfwEntityField="IstrViewActivity" sfwRelatedControl="btnViewTaskDetails" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="Role">
                      <ItemTemplate>
                        <sfwLabel sfwEntityField="IstrRoleDescription" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="Status Value" Visible="False">
                      <ItemTemplate>
                        <sfwLabel sfwEntityField="StatusValue" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="View" Visible="False">
                      <ItemTemplate>
                        <sfwLinkButton ID="btnWorkPoolOpen" sfwActiveForm="wfmBpmActivityInstanceMaintenance" sfwMethodName="btnOpen_Click" sfwNavigationParameter="aintActivityInstanceId=ActivityInstanceId" Text="View" ToolTip="View Activity Without Checkout" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="Due Date" ItemStyle.HorizontalAlign="Right">
                      <ItemTemplate>
                        <sfwLabel sfwDataFormat="{0:G}" sfwEntityField="DueDate" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="Source">
                      <ItemTemplate>
                        <sfwLabel sfwEntityField="objBpmProcessInstance.objBpmCaseInstance.objBpmRequest.SourceDescription" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="Priority">
                      <ItemTemplate>
                        <sfwLabel sfwEntityField="objBpmProcessInstance.objBpmCaseInstance.PriorityCodeDescription" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField Visible="False" HeaderText="PriorityCodeValue">
                      <ItemTemplate>
                        <sfwLabel sfwEntityField="objBpmProcessInstance.objBpmCaseInstance.PriorityCodeValue" />
                      </ItemTemplate>
                    </TemplateField>
                  </Columns>
                  <rowformat sfwEntityField="objBpmProcessInstance.objBpmCaseInstance.PriorityCodeValue">
                    <Conditions>
                      <condition value="HIGH" cssclass="highPriorityTask" />
                    </Conditions>
                  </rowformat>
                </sfwGridView>
              </sfwColumn>
            </sfwRow>
          </sfwTable>
        </sfwPanel>
      </sfwColumn>
    </sfwRow>
  </sfwTable>
  <validatenew />
  <loaddetails>
    <entityfield ID="lstRoleAssignedActivities" sfwNewAutoLoad="False" sfwUpdateAutoLoad="False" />
  </loaddetails>
</form>