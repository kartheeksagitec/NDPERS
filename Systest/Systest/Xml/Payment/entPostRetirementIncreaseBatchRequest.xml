<?xml version="1.0" encoding="utf-8"?>
<entity ID="entPostRetirementIncreaseBatchRequest" sfwActive="True" sfwStatus="Valid" sfwType="BusinessRule" sfwMainCDO="icdoPostRetirementIncreaseBatchRequest" sfwReadOnlyRule="ReadOnlyRule" sfwObjectID="busPostRetirementIncreaseBatchRequest" sfwTableName="sgt_post_retirement_increase_batch_request" sfwView="False" sfwParentEntity="entExtendBase">
  <rules>
    <rule ID="IsAccountRelationshipSelected" sfwMessageId="8012" sfwExpression="(this.IsAccountRelationshipSelected() == 0)" sfwObjectBased="True" />
    <rule ID="IsActionStatusCancelled" sfwExpression="(this.icdoPostRetirementIncreaseBatchRequest.action_status_value == &quot;CANC&quot;)" sfwObjectBased="True" />
    <rule ID="IsActionStatusPendingApproval" sfwExpression="(this.icdoPostRetirementIncreaseBatchRequest.action_status_value == &quot;PAPR&quot;)" sfwObjectBased="True" />
    <rule ID="IsBaseDateNull" sfwMessageId="8007" sfwExpression="(this.icdoPostRetirementIncreaseBatchRequest.base_date == DateTime.MinValue)" sfwObjectBased="True" />
    <rule ID="IsBenefitAccountSelected" sfwMessageId="8011" sfwExpression="(this.IsBenefitAccountSelected() == 0)" sfwObjectBased="True" />
    <rule ID="isBothPercentAndFlatIncreaseIsNotNull" sfwMessageId="8004" sfwExpression="!(this.icdoPostRetirementIncreaseBatchRequest.increase_flat_amount == 0.00) &amp;&amp; &#xA;!(this.icdoPostRetirementIncreaseBatchRequest.increase_percentage == 0)" sfwObjectBased="True" />
    <rule ID="IsBothPercentAndFlatIncreaseIsNull" sfwMessageId="8003" sfwExpression="((this.icdoPostRetirementIncreaseBatchRequest.increase_flat_amount == 0.00) &amp;&amp; &#xA;(this.icdoPostRetirementIncreaseBatchRequest.increase_percentage == 0))" sfwObjectBased="True" />
    <rule ID="IsEffectiveDateNull" sfwMessageId="8008" sfwExpression="(this.icdoPostRetirementIncreaseBatchRequest.effective_date == DateTime.MinValue)" sfwObjectBased="True" />
    <rule ID="IsEffectiveDateOverlappingForCOLA" sfwMessageId="10046" sfwExpression="(this.icdoPostRetirementIncreaseBatchRequest.post_retirement_increase_type_value == &quot;COLA&quot;) &amp;&amp; &#xA;(this.iblnIsEffectiveDateOverlappingForCOLA() == True)" sfwObjectBased="True" />
    <rule ID="IsEffectiveDateValid" sfwMessageId="8005" sfwExpression="(this.IsEffectiveDateValid() &lt; 0)" sfwObjectBased="True" />
    <rule ID="IsPlanSelected" sfwMessageId="8010" sfwExpression="(this.IsPlanSelected() == 0)" sfwObjectBased="True" />
    <rule ID="IsValidPlanForPostRetirmentIncreaseType" sfwMessageId="8006" sfwExpression="(this.IsValidPlanForPostRetirmentIncreaseType() == False)" sfwObjectBased="True" />
    <rule ID="ReadOnlyRule" sfwExpression="(this.icdoPostRetirementIncreaseBatchRequest.action_status_value == &quot;CANC&quot;) || &#xA;(this.icdoPostRetirementIncreaseBatchRequest.status_value == &quot;PROC&quot;)" sfwObjectBased="True" />
    <rule ID="VisibibleRuleForSave" sfwExpression="!(this.icdoPostRetirementIncreaseBatchRequest.action_status_value == &quot;APPR&quot;) &amp;&amp; &#xA;!(this.icdoPostRetirementIncreaseBatchRequest.action_status_value == &quot;CANC&quot;)" sfwObjectBased="True" />
    <rule ID="VisibleRuleForApprove" sfwExpression="(this.icdoPostRetirementIncreaseBatchRequest.action_status_value == &quot;PAPR&quot;) &amp;&amp; &#xA;(this.IsLoginUserSameAsCreatedBy() == False)" sfwObjectBased="True" />
    <rule ID="VisibleRuleForCancelled" sfwExpression="(this.icdoPostRetirementIncreaseBatchRequest.action_status_value == &quot;PAPR&quot;) || &#xA;(this.icdoPostRetirementIncreaseBatchRequest.action_status_value == &quot;APPR&quot;)" sfwObjectBased="True" />
    <rule ID="VisibleRuleForCopy" sfwExpression="!(this.icdoPostRetirementIncreaseBatchRequest.action_status_value == &quot;APPR&quot;) &amp;&amp; &#xA;!(this.icdoPostRetirementIncreaseBatchRequest.action_status_value == &quot;CANC&quot;)" sfwObjectBased="True" />
  </rules>
  <delete>
    <property ID="lstIclcPlan" sfwMethodName="LoadPlanList" />
    <property ID="lstIclcBenefitAccount" sfwMethodName="LoadBenefitAccoutTypeList" />
    <property ID="lstIclcAccountRelationship" sfwMethodName="LoadAccountRelationshipList" />
    <property ID="lstPorRetirementIncreaseBatchRequestDetail" sfwMethodName="LoadPostRetirementIncreaseBatchRequestDetail" />
  </delete>
  <checklist />
  <initialload>
    <item ID="IsActionStatusPendingApproval" sfwMode="All" sfwStatus="Active" />
    <item ID="VisibibleRuleForSave" sfwMode="All" sfwStatus="Active" />
    <item ID="IsActionStatusCancelled" sfwMode="All" sfwStatus="Active" />
    <item ID="VisibleRuleForApprove" sfwMode="All" sfwStatus="Active" />
    <item ID="VisibleRuleForCopy" sfwMode="All" sfwStatus="Active" />
    <item ID="VisibleRuleForCancelled" sfwMode="All" sfwStatus="Active" />
  </initialload>
  <softerror />
  <harderror>
    <item ID="IsBothPercentAndFlatIncreaseIsNull" sfwMode="All" sfwStatus="Active" />
    <item ID="isBothPercentAndFlatIncreaseIsNotNull" sfwMode="All" sfwStatus="Active" />
    <item ID="IsEffectiveDateValid" sfwMode="All" sfwStatus="Active" />
    <item ID="IsValidPlanForPostRetirmentIncreaseType" sfwMode="All" sfwStatus="Active" />
    <item ID="IsBaseDateNull" sfwMode="All" sfwStatus="Active" />
    <item ID="IsEffectiveDateNull" sfwMode="All" sfwStatus="Active" />
    <item ID="IsBenefitAccountSelected" sfwMode="All" sfwStatus="Active" />
    <item ID="IsAccountRelationshipSelected" sfwMode="All" sfwStatus="Active" />
    <item ID="IsPlanSelected" sfwMode="All" sfwStatus="Active" />
    <item ID="IsEffectiveDateOverlappingForCOLA" sfwMode="All" sfwStatus="Active" />
  </harderror>
  <validatedelete />
  <groupslist />
  <updateablecdo />
  <commonproperties />
  <expressionfields />
  <queries>
    <query ID="Lookup" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="Select * from SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST BATCH WITH(NOLOCK) &#xD;&#xA;ORDER BY  POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID DESC">
      <parameters />
    </query>
    <query ID="LoadBenefitAccountType" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="select * from sgs_code_value WITH(NOLOCK) where code_id = 1904 and code_value != 'RFND'">
      <parameters />
    </query>
    <query ID="ProcessCOLAAdhocSupplementBatch" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="DECLARE @PAYMENTDATE DATETIME &#xD;&#xA;SELECT @PAYMENTDATE =  max(PAYMENT_DATE)&#xD;&#xA; FROM SGT_PAYMENT_SCHEDULE &#xD;&#xA; WHERE STATUS_VALUE = 'PRCD' &#xD;&#xA; AND SCHEDULE_TYPE_VALUE = 'MTLY'&#xD;&#xA;set @PAYMENTDATE =  Dateadd(m,1,@PAYMENTDATE)&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;SELECT  PAYEE.*, APPPLAN.* FROM SGT_PAYEE_ACCOUNT PAYEE WITH(NOLOCK)&#xD;&#xA; INNER JOIN DBO.SGT_PAYEE_ACCOUNT_STATUS PAS WITH(NOLOCK) ON PAS.PAYEE_ACCOUNT_ID = PAYEE.PAYEE_ACCOUNT_ID &#xD;&#xA; INNER JOIN DBO.SGS_CODE_VALUE CV WITH(NOLOCK) ON PAS.STATUS_ID= CV.CODE_ID AND PAS.STATUS_VALUE = CV.CODE_VALUE&#xD;&#xA; INNER JOIN DBO.SGT_PAYMENT_HISTORY_HEADER HISTORY WITH(NOLOCK) on HISTORY.PAYEE_ACCOUNT_ID=PAYEE.PAYEE_ACCOUNT_ID &#xD;&#xA;AND HISTORY.PAYMENT_DATE &lt;=@COLA_EFFECTIVE_DATE&#xD;&#xA; INNER JOIN SGT_BENEFIT_APPLICATION APP WITH(NOLOCK) ON PAYEE.APPLICATION_ID=APP.BENEFIT_APPLICATION_ID &#xD;&#xA;INNER JOIN SGT_PLAN APPPLAN WITH(NOLOCK) ON APPPLAN.PLAN_ID=APP.PLAN_ID&#xD;&#xA; WHERE ( CV.DATA2 = 'REVW' OR CV.DATA2 = 'RECV' OR CV.DATA2 = 'APRD' )  &#xD;&#xA; AND PAYEE_ACCOUNT_STATUS_ID  =&#xD;&#xA;  (&#xD;&#xA;   SELECT TOP 1 PAYEE_ACCOUNT_STATUS_ID&#xD;&#xA;    FROM SGT_PAYEE_ACCOUNT_STATUS PAS1 (nolock)&#xD;&#xA;    WHERE PAS1.PAYEE_ACCOUNT_ID = PAYEE.PAYEE_ACCOUNT_ID&#xD;&#xA;     AND PAS1.STATUS_EFFECTIVE_DATE &lt;= @PAYMENTDATE&#xD;&#xA;    ORDER BY PAS1.STATUS_EFFECTIVE_DATE DESC,PAS1.PAYEE_ACCOUNT_STATUS_ID DESC&#xD;&#xA;  )&#xD;&#xA;AND  HISTORY.PAYMENT_HISTORY_HEADER_ID = (SELECT TOP 1 PAYMENT_HISTORY_HEADER_ID FROM SGT_PAYMENT_HISTORY_HEADER HISTORY1 WITH(NOLOCK) WHERE HISTORY1.PAYEE_ACCOUNT_ID=PAYEE.PAYEE_ACCOUNT_ID &#xD;&#xA;AND HISTORY.PAYMENT_DATE &lt;=@COLA_EFFECTIVE_DATE&#xD;&#xA;) AND APP.PLAN_ID in (Select PLAN_ID FROM SGT_POST_RETIREMENT_INCREASE_BATCH_PLAN PLN WITH(NOLOCK) WHERE PLN.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID&#xD;&#xA;AND PLN.PLAN_ID &lt;&gt; 23)&#xD;&#xA;AND PAYEE.BENEFIT_ACCOUNT_TYPE_VALUE IN (Select BENEFIT_ACCOUNT_TYPE_VALUE&#xD;&#xA;FROM SGT_POST_RETIREMENT_INCREASE_BATCH_BENEFIT_ACCOUNT_TYPE ATYPE WITH(NOLOCK) WHERE ATYPE.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID)&#xD;&#xA; AND PAYEE.BENEFIT_OPTION_VALUE NOT IN ('AURD','REFD')&#xD;&#xA;AND PAYEE.ACCOUNT_RELATION_VALUE IN ( Select  ACCOUNT_RELATIONSHIP_VALUE  FROM &#xD;&#xA;SGT_POST_RETIREMENT_INCREASE_BATCH_ACCOUNT_RELATIONSHIP AREL WITH(NOLOCK) WHERE AREL.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID)&#xD;&#xA;AND PAYEE.PAYEE_ACCOUNT_ID NOT IN (SELECT PAYEE_ACCOUNT_ID FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL BATDET WITH(NOLOCK) WHERE IS_PROCESSED_FLAG='Y' AND&#xD;&#xA;POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID )&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;UNION&#xD;&#xA;&#xD;&#xA; SELECT  PAYEE.*, APPPLAN.* FROM SGT_PAYEE_ACCOUNT PAYEE&#xD;&#xA; INNER JOIN DBO.SGT_PAYEE_ACCOUNT_STATUS PAS WITH(NOLOCK) ON PAS.PAYEE_ACCOUNT_ID = PAYEE.PAYEE_ACCOUNT_ID &#xD;&#xA; INNER JOIN DBO.SGS_CODE_VALUE CV WITH(NOLOCK) ON PAS.STATUS_ID= CV.CODE_ID AND PAS.STATUS_VALUE = CV.CODE_VALUE&#xD;&#xA; INNER JOIN DBO.SGT_PAYMENT_HISTORY_HEADER HISTORY WITH(NOLOCK) on HISTORY.PAYEE_ACCOUNT_ID=PAYEE.PAYEE_ACCOUNT_ID &#xD;&#xA; AND HISTORY.PAYMENT_DATE &lt;=@COLA_EFFECTIVE_DATE&#xD;&#xA; INNER JOIN SGT_BENEFIT_DRO_APPLICATION APP WITH(NOLOCK) ON PAYEE.DRO_APPLICATION_ID=APP.DRO_APPLICATION_ID &#xD;&#xA; INNER JOIN SGT_PLAN APPPLAN WITH(NOLOCK) ON APPPLAN.PLAN_ID=APP.PLAN_ID&#xD;&#xA; WHERE  (CV.DATA2 = 'REVW' OR CV.DATA2 = 'RECV' OR CV.DATA2 = 'APRD' )  &#xD;&#xA; AND PAYEE_ACCOUNT_STATUS_ID  =&#xD;&#xA;  (&#xD;&#xA;   SELECT TOP 1 PAYEE_ACCOUNT_STATUS_ID&#xD;&#xA;    FROM SGT_PAYEE_ACCOUNT_STATUS PAS1 (nolock)&#xD;&#xA;    WHERE PAS1.PAYEE_ACCOUNT_ID = PAYEE.PAYEE_ACCOUNT_ID&#xD;&#xA;     AND PAS1.STATUS_EFFECTIVE_DATE &lt;= @PAYMENTDATE&#xD;&#xA;    ORDER BY PAS1.STATUS_EFFECTIVE_DATE DESC,PAS1.PAYEE_ACCOUNT_STATUS_ID DESC&#xD;&#xA;  )&#xD;&#xA;AND HISTORY.PAYMENT_HISTORY_HEADER_ID = (SELECT TOP 1 PAYMENT_HISTORY_HEADER_ID FROM SGT_PAYMENT_HISTORY_HEADER HISTORY1 WITH(NOLOCK) WHERE HISTORY1.PAYEE_ACCOUNT_ID=PAYEE.PAYEE_ACCOUNT_ID &#xD;&#xA;AND HISTORY.PAYMENT_DATE &lt;=@COLA_EFFECTIVE_DATE &#xD;&#xA;) AND &#xD;&#xA;APP.PLAN_ID in (Select PLAN_ID FROM SGT_POST_RETIREMENT_INCREASE_BATCH_PLAN PLN WITH(NOLOCK) WHERE PLN.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID&#xD;&#xA;AND PLN.PLAN_ID &lt;&gt; 23)&#xD;&#xA;AND PAYEE.BENEFIT_ACCOUNT_TYPE_VALUE IN (Select BENEFIT_ACCOUNT_TYPE_VALUE&#xD;&#xA;FROM SGT_POST_RETIREMENT_INCREASE_BATCH_BENEFIT_ACCOUNT_TYPE ATYPE WITH(NOLOCK) WHERE ATYPE.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID)&#xD;&#xA; AND PAYEE.BENEFIT_OPTION_VALUE NOT IN ('AURD','REFD')&#xD;&#xA;AND PAYEE.ACCOUNT_RELATION_VALUE IN ( Select  ACCOUNT_RELATIONSHIP_VALUE  FROM &#xD;&#xA;SGT_POST_RETIREMENT_INCREASE_BATCH_ACCOUNT_RELATIONSHIP AREL WITH(NOLOCK) WHERE AREL.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID)&#xD;&#xA; AND PAYEE.PAYEE_ACCOUNT_ID NOT IN (SELECT PAYEE_ACCOUNT_ID FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL BATDET WITH(NOLOCK) WHERE IS_PROCESSED_FLAG='Y' AND&#xD;&#xA;POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID )&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;UNION&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;SELECT  PAYEE.*, APPPLAN.* FROM SGT_PAYEE_ACCOUNT PAYEE WITH(NOLOCK)&#xD;&#xA; INNER JOIN DBO.SGT_PAYEE_ACCOUNT_STATUS PAS WITH(NOLOCK) ON PAS.PAYEE_ACCOUNT_ID = PAYEE.PAYEE_ACCOUNT_ID &#xD;&#xA; INNER JOIN DBO.SGS_CODE_VALUE CV WITH(NOLOCK) ON PAS.STATUS_ID= CV.CODE_ID AND PAS.STATUS_VALUE = CV.CODE_VALUE &#xD;&#xA; INNER JOIN SGT_BENEFIT_APPLICATION APP WITH(NOLOCK) ON PAYEE.APPLICATION_ID=APP.BENEFIT_APPLICATION_ID &#xD;&#xA;INNER JOIN SGT_PLAN APPPLAN WITH(NOLOCK) ON APPPLAN.PLAN_ID=APP.PLAN_ID&#xD;&#xA; WHERE (CV.DATA2 = 'REVW' OR CV.DATA2 = 'RECV' OR CV.DATA2 = 'APRD' OR CV.DATA2='3RDP')  &#xD;&#xA; AND PAYEE_ACCOUNT_STATUS_ID  = &#xD;&#xA;  (&#xD;&#xA;   SELECT TOP 1 PAYEE_ACCOUNT_STATUS_ID&#xD;&#xA;    FROM SGT_PAYEE_ACCOUNT_STATUS PAS1 (nolock)&#xD;&#xA;    WHERE PAS1.PAYEE_ACCOUNT_ID = PAYEE.PAYEE_ACCOUNT_ID&#xD;&#xA;     AND PAS1.STATUS_EFFECTIVE_DATE &lt;= @PAYMENTDATE&#xD;&#xA;    ORDER BY PAS1.STATUS_EFFECTIVE_DATE DESC,PAS1.PAYEE_ACCOUNT_STATUS_ID DESC&#xD;&#xA;  )&#xD;&#xA;AND APP.PLAN_ID in (Select PLAN_ID FROM SGT_POST_RETIREMENT_INCREASE_BATCH_PLAN PLN WITH(NOLOCK) WHERE PLN.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID&#xD;&#xA;AND PLN.PLAN_ID = 23)&#xD;&#xA;AND PAYEE.BENEFIT_ACCOUNT_TYPE_VALUE IN (Select BENEFIT_ACCOUNT_TYPE_VALUE&#xD;&#xA;FROM SGT_POST_RETIREMENT_INCREASE_BATCH_BENEFIT_ACCOUNT_TYPE ATYPE WITH(NOLOCK) WHERE ATYPE.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID)&#xD;&#xA; AND PAYEE.BENEFIT_OPTION_VALUE NOT IN ('AURD','REFD')&#xD;&#xA;AND PAYEE.ACCOUNT_RELATION_VALUE IN ( Select  ACCOUNT_RELATIONSHIP_VALUE  FROM &#xD;&#xA;SGT_POST_RETIREMENT_INCREASE_BATCH_ACCOUNT_RELATIONSHIP AREL WITH(NOLOCK) WHERE AREL.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID)&#xD;&#xA;AND PAYEE.PAYEE_ACCOUNT_ID NOT IN (SELECT PAYEE_ACCOUNT_ID FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL BATDET WITH(NOLOCK) WHERE IS_PROCESSED_FLAG='Y' AND&#xD;&#xA;POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID )&#xD;&#xA;">
      <parameters>
        <parameter ID="@COLA_EFFECTIVE_DATE" sfwDataType="DateTime" />
        <parameter ID="@BATCH_REQUEST_ID" sfwDataType="int" />
      </parameters>
    </query>
    <query ID="rptJobServiceCOLAReportfor3rdPartPayor" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="Select PAY.PAYEE_PERSLINK_ID 'Payee_Perslink_ID',&#xD;&#xA;ISNULL(PERSON.LAST_NAME,'') + ', ' + ISNULL(PERSON.FIRST_NAME,'') + ' ' + ISNULL(PERSON.MIDDLE_NAME,'') 'Payee_Name',&#xD;&#xA;LEFT(SSN,3)+'-'+SUBSTRING(SSN,4,2)+'-'+RIGHT(SSN,4) 'SSN',(REQUESTDET.INCREASE_AMOUNT - REQUESTDET.ORIGINAL_AMOUNT) 'Monthly_COLA_Amount' ,&#xD;&#xA; REQUEST.EFFECTIVE_DATE 'Effective_Date'&#xD;&#xA; ,(SELECT TOP 1 ISNULL(AMOUNT,0) FROM SGT_PAYEE_ACCOUNT_PAYMENT_ITEM_TYPE PAPIT &#xD;&#xA; INNER JOIN SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL DET ON DET.PAYEE_ACCOUNT_ID = PAY.PAYEE_ACCOUNT_ID&#xD;&#xA; AND DET.PAYEE_ACCOUNT_PAYMENT_ITEM_TYPE_ID = PAPIT.PAYEE_ACCOUNT_PAYMENT_ITEM_TYPE_ID&#xD;&#xA; AND DET.PAYMENT_ITEM_TYPE_ID = PAPIT.PAYMENT_ITEM_TYPE_ID ORDER BY PAPIT.START_DATE DESC) 'Cumulative_COLA_increases'&#xD;&#xA;from&#xD;&#xA;SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST REQUEST &#xD;&#xA;INNER JOIN SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL REQUESTDET WITH(NOLOCK) on &#xD;&#xA;REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUESTDET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND &#xD;&#xA;REQUEST.POST_RETIREMENT_INCREASE_TYPE_VALUE='COLA' AND REQUEST.EFFECTIVE_DATE =@EFFECTIVE_DATE&#xD;&#xA;INNER JOIN SGT_PAYEE_ACCOUNT PAY WITH(NOLOCK) ON PAY.PAYEE_ACCOUNT_ID=REQUESTDET.PAYEE_ACCOUNT_ID AND ISNULL(REQUESTDET.IS_PROCESSED_FLAG,'')='Y'&#xD;&#xA;LEFT OUTER JOIN SGT_BENEFIT_APPLICATION BEN WITH(NOLOCK) ON BENEFIT_APPLICATION_ID = PAY.APPLICATION_ID AND BEN.PLAN_ID = 23&#xD;&#xA;LEFT OUTER JOIN SGT_BENEFIT_DRO_APPLICATION DROAPP WITH(NOLOCK) ON DROAPP.DRO_APPLICATION_ID  = PAY.DRO_APPLICATION_ID AND DROAPP.PLAN_ID = 23&#xD;&#xA;INNER JOIN SGT_PERSON PERSON WITH(NOLOCK) on PAY.PAYEE_PERSLINK_ID=PERSON.PERSON_ID&#xD;&#xA;WHERE  NOT (DROAPP.DRO_APPLICATION_ID IS  NULL AND BEN.BENEFIT_APPLICATION_ID IS  NULL)&#xD;&#xA;ORDER BY PAY.PAYEE_PERSLINK_ID,2,PERSON.SSN">
      <parameters>
        <parameter ID="@EFFECTIVE_DATE" sfwDataType="DateTime" />
      </parameters>
    </query>
    <query ID="rptAdhocIncreaseOrSupplementalCheckReport" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="Select PAY.PAYEE_PERSLINK_ID &quot;Payee_Perslink_ID&quot;,&#xD;&#xA;ISNULL(PERSON.LAST_NAME,'') + ', ' + ISNULL(PERSON.FIRST_NAME,'') + ' ' + ISNULL(PERSON.MIDDLE_NAME,'') &quot;Payee_Name&quot;,&#xD;&#xA;PLN.PLAN_NAME &quot;Plan&quot;,&#xD;&#xA;COD1.DESCRIPTION &quot;Benefit_Type&quot;,&#xD;&#xA;COD2.DESCRIPTION &quot;Account_Relationship&quot;,&#xD;&#xA;REQUESTDET.ORIGINAL_AMOUNT &quot;Old_Benefit_Ad_hoc_Base_amount&quot;,&#xD;&#xA;REQUESTDET.INCREASE_AMOUNT &quot;New_Benefit_Ad_hoc_Base_amount&quot;,&#xD;&#xA;(REQUESTDET.INCREASE_AMOUNT - REQUESTDET.ORIGINAL_AMOUNT) &quot;Benefit_Ad_hoc_Base_amount_Increase&quot; ,&#xD;&#xA;(Select SUM(ORIGINAL_AMOUNT) FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL DET WITH(NOLOCK) &#xD;&#xA;INNER JOIN SGT_PAYMENT_ITEM_TYPE PIT WITH(NOLOCK) on PIT.PAYMENT_ITEM_TYPE_ID=DET.PAYMENT_ITEM_TYPE_ID&#xD;&#xA;WHERE DET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND PIT.ITEM_TYPE_CODE='ITEM67'&#xD;&#xA;and DET.PAYEE_ACCOUNT_ID = PAY.PAYEE_ACCOUNT_ID)&quot;Old_Federal_Tax&quot;,&#xD;&#xA;(Select SUM(INCREASE_AMOUNT) FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL DET WITH(NOLOCK) &#xD;&#xA;INNER JOIN SGT_PAYMENT_ITEM_TYPE PIT WITH(NOLOCK) on PIT.PAYMENT_ITEM_TYPE_ID=DET.PAYMENT_ITEM_TYPE_ID&#xD;&#xA;WHERE DET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND PIT.ITEM_TYPE_CODE='ITEM67'&#xD;&#xA;and DET.PAYEE_ACCOUNT_ID = PAY.PAYEE_ACCOUNT_ID) &quot;New_Federal_Tax&quot;,&#xD;&#xA;(Select SUM(INCREASE_AMOUNT - ORIGINAL_AMOUNT) FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL DET WITH(NOLOCK) &#xD;&#xA;INNER JOIN SGT_PAYMENT_ITEM_TYPE PIT WITH(NOLOCK) on PIT.PAYMENT_ITEM_TYPE_ID=DET.PAYMENT_ITEM_TYPE_ID&#xD;&#xA;WHERE DET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND PIT.ITEM_TYPE_CODE='ITEM67'&#xD;&#xA;and DET.PAYEE_ACCOUNT_ID = PAY.PAYEE_ACCOUNT_ID) &quot;Federal_Tax_Increase&quot;,&#xD;&#xA;(Select SUM(ORIGINAL_AMOUNT) FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL DET WITH(NOLOCK) &#xD;&#xA;INNER JOIN SGT_PAYMENT_ITEM_TYPE PIT WITH(NOLOCK) on PIT.PAYMENT_ITEM_TYPE_ID=DET.PAYMENT_ITEM_TYPE_ID&#xD;&#xA;WHERE DET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND PIT.ITEM_TYPE_CODE='ITEM68'&#xD;&#xA;and DET.PAYEE_ACCOUNT_ID = PAY.PAYEE_ACCOUNT_ID)&quot;Old_State_Tax&quot;,&#xD;&#xA;(Select SUM(INCREASE_AMOUNT) FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL DET WITH(NOLOCK) &#xD;&#xA;INNER JOIN SGT_PAYMENT_ITEM_TYPE PIT WITH(NOLOCK) on PIT.PAYMENT_ITEM_TYPE_ID=DET.PAYMENT_ITEM_TYPE_ID&#xD;&#xA;WHERE DET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND PIT.ITEM_TYPE_CODE='ITEM68'&#xD;&#xA;and DET.PAYEE_ACCOUNT_ID = PAY.PAYEE_ACCOUNT_ID) &quot;New_State_Tax&quot;,&#xD;&#xA;(Select SUM(INCREASE_AMOUNT-ORIGINAL_AMOUNT) FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL DET WITH(NOLOCK) &#xD;&#xA;INNER JOIN SGT_PAYMENT_ITEM_TYPE PIT WITH(NOLOCK) on PIT.PAYMENT_ITEM_TYPE_ID=DET.PAYMENT_ITEM_TYPE_ID&#xD;&#xA;WHERE DET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND PIT.ITEM_TYPE_CODE='ITEM68'&#xD;&#xA;and DET.PAYEE_ACCOUNT_ID = PAY.PAYEE_ACCOUNT_ID) &quot;State_Tax_Increase&quot;&#xD;&#xA;from&#xD;&#xA;SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST REQUEST WITH(NOLOCK)&#xD;&#xA;INNER JOIN SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL REQUESTDET WITH(NOLOCK) on &#xD;&#xA;REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUESTDET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND &#xD;&#xA;REQUEST.POST_RETIREMENT_INCREASE_TYPE_VALUE=@POST_RETIREMENT_INCREASE_TYPE_VALUE AND REQUEST.EFFECTIVE_DATE ='08/01/2010'&#xD;&#xA;INNER JOIN SGT_PAYEE_ACCOUNT PAY WITH(NOLOCK) ON PAY.PAYEE_ACCOUNT_ID=REQUESTDET.PAYEE_ACCOUNT_ID AND ISNULL(REQUESTDET.IS_PROCESSED_FLAG,'')='Y'&#xD;&#xA;INNER JOIN SGT_BENEFIT_APPLICATION APP WITH(NOLOCK) ON PAY.APPLICATION_ID=APP.BENEFIT_APPLICATION_ID&#xD;&#xA;INNER JOIN SGS_CODE_VALUE COD1 WITH(NOLOCK) ON COD1.CODE_ID=PAY.BENEFIT_ACCOUNT_TYPE_ID and COD1.CODE_VALUE=PAY.BENEFIT_ACCOUNT_TYPE_VALUE&#xD;&#xA;INNER JOIN SGS_CODE_VALUE COD2 WITH(NOLOCK) On COD2.CODE_ID=PAY.ACCOUNT_RELATION_ID and COD2.CODE_VALUE=PAY.ACCOUNT_RELATION_VALUE&#xD;&#xA;INNER JOIN SGT_PLAN PLN WITH(NOLOCK) on PLN.PLAN_ID=APP.PLAN_ID&#xD;&#xA;INNER JOIN SGT_PERSON PERSON WITH(NOLOCK) on PAY.PAYEE_PERSLINK_ID=PERSON.PERSON_ID&#xD;&#xA;INNER JOIN SGT_PAYMENT_ITEM_TYPE PIT WITH(NOLOCK) on PIT.PAYMENT_ITEM_TYPE_ID=REQUESTDET.PAYMENT_ITEM_TYPE_ID&#xD;&#xA;WHERE @POST_RETIREMENT_INCREASE_TYPE_VALUE='ADHO' AND PIT.ITEM_TYPE_CODE='ITEM40'&#xD;&#xA;&#xD;&#xA;UNION ALL&#xD;&#xA;&#xD;&#xA;Select PAY.PAYEE_PERSLINK_ID &quot;Payee_Perslink_ID&quot;,&#xD;&#xA;ISNULL(PERSON.LAST_NAME,'') + ', ' + ISNULL(PERSON.FIRST_NAME,'') + ' ' + ISNULL(PERSON.MIDDLE_NAME,'') &quot;Payee_Name&quot;,&#xD;&#xA;PLN.PLAN_NAME &quot;Plan&quot;,&#xD;&#xA;COD1.DESCRIPTION &quot;Benefit_Type&quot;,&#xD;&#xA;COD2.DESCRIPTION &quot;Account_Relationship&quot;,&#xD;&#xA;REQUESTDET.ORIGINAL_AMOUNT &quot;Old_Benefit_Ad_hoc_Base_amount&quot;,&#xD;&#xA;REQUESTDET.INCREASE_AMOUNT &quot;New_Benefit_Ad_hoc_Base_amount&quot;,&#xD;&#xA;0 &quot;Benefit_Ad_hoc_Base_amount_Increase&quot; ,&#xD;&#xA;0 &quot;Old_Federal_Tax&quot;,&#xD;&#xA;(Select SUM(INCREASE_AMOUNT) FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL DET WITH(NOLOCK) &#xD;&#xA;INNER JOIN SGT_PAYMENT_ITEM_TYPE PIT WITH(NOLOCK) on PIT.PAYMENT_ITEM_TYPE_ID=DET.PAYMENT_ITEM_TYPE_ID&#xD;&#xA;WHERE DET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND PIT.ITEM_TYPE_CODE='ITEM27'&#xD;&#xA;and DET.PAYEE_ACCOUNT_ID = PAY.PAYEE_ACCOUNT_ID) &quot;New_Federal_Tax&quot;,&#xD;&#xA;0 &quot;Federal_Tax_Increase&quot;,&#xD;&#xA;0 &quot;Old_State_Tax&quot;,&#xD;&#xA;(Select SUM(INCREASE_AMOUNT) FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL DET WITH(NOLOCK) &#xD;&#xA;INNER JOIN SGT_PAYMENT_ITEM_TYPE PIT WITH(NOLOCK) on PIT.PAYMENT_ITEM_TYPE_ID=DET.PAYMENT_ITEM_TYPE_ID&#xD;&#xA;WHERE DET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND PIT.ITEM_TYPE_CODE='ITEM28'&#xD;&#xA;and DET.PAYEE_ACCOUNT_ID = PAY.PAYEE_ACCOUNT_ID) &quot;New_State_Tax&quot;,&#xD;&#xA;0 &quot;State_Tax_Increase&quot;&#xD;&#xA;from&#xD;&#xA;SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST REQUEST WITH(NOLOCK)&#xD;&#xA;INNER JOIN SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL REQUESTDET WITH(NOLOCK) on &#xD;&#xA;REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUESTDET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND &#xD;&#xA;REQUEST.POST_RETIREMENT_INCREASE_TYPE_VALUE=@POST_RETIREMENT_INCREASE_TYPE_VALUE AND REQUEST.EFFECTIVE_DATE =@EFFECTIVE_DATE&#xD;&#xA;INNER JOIN SGT_PAYEE_ACCOUNT PAY WITH(NOLOCK) ON PAY.PAYEE_ACCOUNT_ID=REQUESTDET.PAYEE_ACCOUNT_ID AND ISNULL(REQUESTDET.IS_PROCESSED_FLAG,'')='Y'&#xD;&#xA;INNER JOIN SGT_BENEFIT_APPLICATION APP WITH(NOLOCK) ON PAY.APPLICATION_ID=APP.BENEFIT_APPLICATION_ID&#xD;&#xA;INNER JOIN SGS_CODE_VALUE COD1 WITH(NOLOCK) ON COD1.CODE_ID=PAY.BENEFIT_ACCOUNT_TYPE_ID and COD1.CODE_VALUE=PAY.BENEFIT_ACCOUNT_TYPE_VALUE&#xD;&#xA;INNER JOIN SGS_CODE_VALUE COD2 WITH(NOLOCK) On COD2.CODE_ID=PAY.ACCOUNT_RELATION_ID and COD2.CODE_VALUE=PAY.ACCOUNT_RELATION_VALUE&#xD;&#xA;INNER JOIN SGT_PLAN PLN WITH(NOLOCK) on PLN.PLAN_ID=APP.PLAN_ID&#xD;&#xA;INNER JOIN SGT_PERSON PERSON WITH(NOLOCK) on PAY.PAYEE_PERSLINK_ID=PERSON.PERSON_ID&#xD;&#xA;INNER JOIN SGT_PAYMENT_ITEM_TYPE PIT WITH(NOLOCK) on PIT.PAYMENT_ITEM_TYPE_ID=REQUESTDET.PAYMENT_ITEM_TYPE_ID&#xD;&#xA;WHERE @POST_RETIREMENT_INCREASE_TYPE_VALUE='SUPP' AND PIT.ITEM_TYPE_CODE='ITEM24'&#xD;&#xA;&#xD;&#xA;union all&#xD;&#xA;&#xD;&#xA;Select PAY.PAYEE_PERSLINK_ID &quot;Payee_Perslink_ID&quot;,&#xD;&#xA;ISNULL(PERSON.LAST_NAME,'') + ', ' + ISNULL(PERSON.FIRST_NAME,'') + ' ' + ISNULL(PERSON.MIDDLE_NAME,'') &quot;Payee_Name&quot;,&#xD;&#xA;PLN.PLAN_NAME &quot;Plan&quot;,&#xD;&#xA;COD1.DESCRIPTION &quot;Benefit_Type&quot;,&#xD;&#xA;COD2.DESCRIPTION &quot;Account_Relationship&quot;,&#xD;&#xA;REQUESTDET.ORIGINAL_AMOUNT &quot;Old_Benefit_Ad_hoc_Base_amount&quot;,&#xD;&#xA;REQUESTDET.INCREASE_AMOUNT &quot;New_Benefit_Ad_hoc_Base_amount&quot;,&#xD;&#xA;(REQUESTDET.INCREASE_AMOUNT - REQUESTDET.ORIGINAL_AMOUNT) &quot;Benefit_Ad_hoc_Base_amount_Increase&quot; ,&#xD;&#xA;(Select SUM(ORIGINAL_AMOUNT) FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL DET WITH(NOLOCK) &#xD;&#xA;INNER JOIN SGT_PAYMENT_ITEM_TYPE PIT WITH(NOLOCK) on PIT.PAYMENT_ITEM_TYPE_ID=DET.PAYMENT_ITEM_TYPE_ID&#xD;&#xA;WHERE DET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND PIT.ITEM_TYPE_CODE='ITEM67'&#xD;&#xA;and DET.PAYEE_ACCOUNT_ID = PAY.PAYEE_ACCOUNT_ID)&quot;Old_Federal_Tax&quot;,&#xD;&#xA;(Select SUM(INCREASE_AMOUNT) FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL DET WITH(NOLOCK) &#xD;&#xA;INNER JOIN SGT_PAYMENT_ITEM_TYPE PIT WITH(NOLOCK) on PIT.PAYMENT_ITEM_TYPE_ID=DET.PAYMENT_ITEM_TYPE_ID&#xD;&#xA;WHERE DET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND PIT.ITEM_TYPE_CODE='ITEM67'&#xD;&#xA;and DET.PAYEE_ACCOUNT_ID = PAY.PAYEE_ACCOUNT_ID) &quot;New_Federal_Tax&quot;,&#xD;&#xA;(Select SUM(INCREASE_AMOUNT - ORIGINAL_AMOUNT) FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL DET WITH(NOLOCK) &#xD;&#xA;INNER JOIN SGT_PAYMENT_ITEM_TYPE PIT WITH(NOLOCK) on PIT.PAYMENT_ITEM_TYPE_ID=DET.PAYMENT_ITEM_TYPE_ID&#xD;&#xA;WHERE DET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND PIT.ITEM_TYPE_CODE='ITEM67'&#xD;&#xA;and DET.PAYEE_ACCOUNT_ID = PAY.PAYEE_ACCOUNT_ID) &quot;Federal_Tax_Increase&quot;,&#xD;&#xA;(Select SUM(ORIGINAL_AMOUNT) FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL DET WITH(NOLOCK) &#xD;&#xA;INNER JOIN SGT_PAYMENT_ITEM_TYPE PIT WITH(NOLOCK) on PIT.PAYMENT_ITEM_TYPE_ID=DET.PAYMENT_ITEM_TYPE_ID&#xD;&#xA;WHERE DET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND PIT.ITEM_TYPE_CODE='ITEM68'&#xD;&#xA;and DET.PAYEE_ACCOUNT_ID = PAY.PAYEE_ACCOUNT_ID)&quot;Old_State_Tax&quot;,&#xD;&#xA;(Select SUM(INCREASE_AMOUNT) FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL DET WITH(NOLOCK) &#xD;&#xA;INNER JOIN SGT_PAYMENT_ITEM_TYPE PIT WITH(NOLOCK) on PIT.PAYMENT_ITEM_TYPE_ID=DET.PAYMENT_ITEM_TYPE_ID&#xD;&#xA;WHERE DET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND PIT.ITEM_TYPE_CODE='ITEM68'&#xD;&#xA;and DET.PAYEE_ACCOUNT_ID = PAY.PAYEE_ACCOUNT_ID) &quot;New_State_Tax&quot;,&#xD;&#xA;(Select SUM(INCREASE_AMOUNT-ORIGINAL_AMOUNT) FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL DET WITH(NOLOCK) &#xD;&#xA;INNER JOIN SGT_PAYMENT_ITEM_TYPE PIT WITH(NOLOCK) on PIT.PAYMENT_ITEM_TYPE_ID=DET.PAYMENT_ITEM_TYPE_ID&#xD;&#xA;WHERE DET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND PIT.ITEM_TYPE_CODE='ITEM68'&#xD;&#xA;and DET.PAYEE_ACCOUNT_ID = PAY.PAYEE_ACCOUNT_ID) &quot;State_Tax_Increase&quot;&#xD;&#xA;from&#xD;&#xA;SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST REQUEST WITH(NOLOCK)&#xD;&#xA;INNER JOIN SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL REQUESTDET WITH(NOLOCK) on &#xD;&#xA;REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUESTDET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND &#xD;&#xA;REQUEST.POST_RETIREMENT_INCREASE_TYPE_VALUE=@POST_RETIREMENT_INCREASE_TYPE_VALUE AND REQUEST.EFFECTIVE_DATE ='08/01/2010'&#xD;&#xA;INNER JOIN SGT_PAYEE_ACCOUNT PAY WITH(NOLOCK) ON PAY.PAYEE_ACCOUNT_ID=REQUESTDET.PAYEE_ACCOUNT_ID AND ISNULL(REQUESTDET.IS_PROCESSED_FLAG,'')='Y'&#xD;&#xA;INNER JOIN SGT_BENEFIT_DRO_APPLICATION APP WITH(NOLOCK) ON PAY.DRO_APPLICATION_ID=APP.DRO_APPLICATION_ID&#xD;&#xA;INNER JOIN SGS_CODE_VALUE COD1 WITH(NOLOCK) ON COD1.CODE_ID=PAY.BENEFIT_ACCOUNT_TYPE_ID and COD1.CODE_VALUE=PAY.BENEFIT_ACCOUNT_TYPE_VALUE&#xD;&#xA;INNER JOIN SGS_CODE_VALUE COD2 WITH(NOLOCK) On COD2.CODE_ID=PAY.ACCOUNT_RELATION_ID and COD2.CODE_VALUE=PAY.ACCOUNT_RELATION_VALUE&#xD;&#xA;INNER JOIN SGT_PLAN PLN WITH(NOLOCK) on PLN.PLAN_ID=APP.PLAN_ID&#xD;&#xA;INNER JOIN SGT_PERSON PERSON WITH(NOLOCK) on PAY.PAYEE_PERSLINK_ID=PERSON.PERSON_ID&#xD;&#xA;INNER JOIN SGT_PAYMENT_ITEM_TYPE PIT WITH(NOLOCK) on PIT.PAYMENT_ITEM_TYPE_ID=REQUESTDET.PAYMENT_ITEM_TYPE_ID&#xD;&#xA;WHERE @POST_RETIREMENT_INCREASE_TYPE_VALUE='ADHO' AND PIT.ITEM_TYPE_CODE='ITEM40'&#xD;&#xA;&#xD;&#xA;union all&#xD;&#xA;&#xD;&#xA;Select PAY.PAYEE_PERSLINK_ID &quot;Payee_Perslink_ID&quot;,&#xD;&#xA;ISNULL(PERSON.LAST_NAME,'') + ', ' + ISNULL(PERSON.FIRST_NAME,'') + ' ' + ISNULL(PERSON.MIDDLE_NAME,'') &quot;Payee_Name&quot;,&#xD;&#xA;PLN.PLAN_NAME &quot;Plan&quot;,&#xD;&#xA;COD1.DESCRIPTION &quot;Benefit_Type&quot;,&#xD;&#xA;COD2.DESCRIPTION &quot;Account_Relationship&quot;,&#xD;&#xA;REQUESTDET.ORIGINAL_AMOUNT &quot;Old_Benefit_Ad_hoc_Base_amount&quot;,&#xD;&#xA;REQUESTDET.INCREASE_AMOUNT &quot;New_Benefit_Ad_hoc_Base_amount&quot;,&#xD;&#xA;0 &quot;Benefit_Ad_hoc_Base_amount_Increase&quot; ,&#xD;&#xA;0 &quot;Old_Federal_Tax&quot;,&#xD;&#xA;(Select SUM(INCREASE_AMOUNT) FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL DET WITH(NOLOCK) &#xD;&#xA;INNER JOIN SGT_PAYMENT_ITEM_TYPE PIT WITH(NOLOCK) on PIT.PAYMENT_ITEM_TYPE_ID=DET.PAYMENT_ITEM_TYPE_ID&#xD;&#xA;WHERE DET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND PIT.ITEM_TYPE_CODE='ITEM27'&#xD;&#xA;and DET.PAYEE_ACCOUNT_ID = PAY.PAYEE_ACCOUNT_ID) &quot;New_Federal_Tax&quot;,&#xD;&#xA;0 &quot;Federal_Tax_Increase&quot;,&#xD;&#xA;0 &quot;Old_State_Tax&quot;,&#xD;&#xA;(Select SUM(INCREASE_AMOUNT) FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL DET WITH(NOLOCK) &#xD;&#xA;INNER JOIN SGT_PAYMENT_ITEM_TYPE PIT WITH(NOLOCK) on PIT.PAYMENT_ITEM_TYPE_ID=DET.PAYMENT_ITEM_TYPE_ID&#xD;&#xA;WHERE DET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND PIT.ITEM_TYPE_CODE='ITEM28'&#xD;&#xA;and DET.PAYEE_ACCOUNT_ID = PAY.PAYEE_ACCOUNT_ID) &quot;New_State_Tax&quot;,&#xD;&#xA;0 &quot;State_Tax_Increase&quot;&#xD;&#xA;from&#xD;&#xA;SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST REQUEST WITH(NOLOCK)&#xD;&#xA;INNER JOIN SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL REQUESTDET WITH(NOLOCK) on &#xD;&#xA;REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUESTDET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND &#xD;&#xA;REQUEST.POST_RETIREMENT_INCREASE_TYPE_VALUE=@POST_RETIREMENT_INCREASE_TYPE_VALUE AND REQUEST.EFFECTIVE_DATE =@EFFECTIVE_DATE&#xD;&#xA;INNER JOIN SGT_PAYEE_ACCOUNT PAY WITH(NOLOCK) ON PAY.PAYEE_ACCOUNT_ID=REQUESTDET.PAYEE_ACCOUNT_ID AND ISNULL(REQUESTDET.IS_PROCESSED_FLAG,'')='Y'&#xD;&#xA;INNER JOIN SGT_BENEFIT_DRO_APPLICATION APP WITH(NOLOCK) ON PAY.DRO_APPLICATION_ID=APP.DRO_APPLICATION_ID&#xD;&#xA;INNER JOIN SGS_CODE_VALUE COD1 WITH(NOLOCK) ON COD1.CODE_ID=PAY.BENEFIT_ACCOUNT_TYPE_ID and COD1.CODE_VALUE=PAY.BENEFIT_ACCOUNT_TYPE_VALUE&#xD;&#xA;INNER JOIN SGS_CODE_VALUE COD2 WITH(NOLOCK) On COD2.CODE_ID=PAY.ACCOUNT_RELATION_ID and COD2.CODE_VALUE=PAY.ACCOUNT_RELATION_VALUE&#xD;&#xA;INNER JOIN SGT_PLAN PLN WITH(NOLOCK) on PLN.PLAN_ID=APP.PLAN_ID&#xD;&#xA;INNER JOIN SGT_PERSON PERSON WITH(NOLOCK) on PAY.PAYEE_PERSLINK_ID=PERSON.PERSON_ID&#xD;&#xA;INNER JOIN SGT_PAYMENT_ITEM_TYPE PIT WITH(NOLOCK) on PIT.PAYMENT_ITEM_TYPE_ID=REQUESTDET.PAYMENT_ITEM_TYPE_ID&#xD;&#xA;WHERE @POST_RETIREMENT_INCREASE_TYPE_VALUE='SUPP' AND PIT.ITEM_TYPE_CODE='ITEM24'&#xD;&#xA;&#xD;&#xA;ORDER BY PLN.PLAN_NAME,COD1.DESCRIPTION,COD2.DESCRIPTION,PAY.PAYEE_PERSLINK_ID&#xD;&#xA;&#xD;&#xA;">
      <parameters>
        <parameter ID="@POST_RETIREMENT_INCREASE_TYPE_VALUE" sfwDataType="string" />
        <parameter ID="@EFFECTIVE_DATE" sfwDataType="DateTime" />
      </parameters>
    </query>
    <query ID="LoadRetirementPlansExceptOasisDC" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="select * from sgt_plan WITH(NOLOCK) where benefit_type_value = 'RETR'&#xD;&#xA;and plan_code not in ('OASS','DICM','PJDS','PSRV')">
      <parameters />
    </query>
    <query ID="rptJobServiceCOLAReportfor3rdPartPayorForBatch" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="Select &#xD;&#xA;PAY.PAYEE_PERSLINK_ID 'Payee_Perslink_ID',&#xD;&#xA;ISNULL(PERSON.LAST_NAME,'') + ', ' + ISNULL(PERSON.FIRST_NAME,'') + ' ' + ISNULL(PERSON.MIDDLE_NAME,'') 'Payee_Name',&#xD;&#xA;LEFT(SSN,3)+'-'+SUBSTRING(SSN,4,2)+'-'+RIGHT(SSN,4) 'SSN',&#xD;&#xA;(REQUESTDET.INCREASE_AMOUNT - REQUESTDET.ORIGINAL_AMOUNT) 'Monthly_COLA_Amount',&#xD;&#xA;REQUEST.EFFECTIVE_DATE 'Effective_Date' ,&#xD;&#xA;(SELECT TOP 1 ISNULL(AMOUNT,0) FROM SGT_PAYEE_ACCOUNT_PAYMENT_ITEM_TYPE PAPIT &#xD;&#xA; INNER JOIN SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL DET ON DET.PAYEE_ACCOUNT_ID = PAY.PAYEE_ACCOUNT_ID&#xD;&#xA; AND DET.PAYEE_ACCOUNT_PAYMENT_ITEM_TYPE_ID = PAPIT.PAYEE_ACCOUNT_PAYMENT_ITEM_TYPE_ID&#xD;&#xA; AND DET.PAYMENT_ITEM_TYPE_ID = PAPIT.PAYMENT_ITEM_TYPE_ID ORDER BY PAPIT.START_DATE DESC) 'Cumulative_COLA_increases'&#xD;&#xA;from SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST REQUEST&#xD;&#xA;INNER JOIN SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL REQUESTDET WITH(NOLOCK) on &#xD;&#xA; REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQUESTDET.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID AND &#xD;&#xA; REQUEST.POST_RETIREMENT_INCREASE_TYPE_VALUE='COLA' AND REQUEST.EFFECTIVE_DATE =@BATCHRUN_DATE&#xD;&#xA;INNER JOIN SGT_PAYEE_ACCOUNT PAY WITH(NOLOCK) ON PAY.PAYEE_ACCOUNT_ID=REQUESTDET.PAYEE_ACCOUNT_ID AND ISNULL(REQUESTDET.IS_PROCESSED_FLAG,'')='Y'&#xD;&#xA;LEFT OUTER JOIN SGT_BENEFIT_APPLICATION BEN WITH(NOLOCK) ON BENEFIT_APPLICATION_ID = PAY.APPLICATION_ID AND BEN.PLAN_ID = 23&#xD;&#xA;LEFT OUTER JOIN SGT_BENEFIT_DRO_APPLICATION DROAPP WITH(NOLOCK) ON DROAPP.DRO_APPLICATION_ID  = PAY.DRO_APPLICATION_ID AND DROAPP.PLAN_ID = 23&#xD;&#xA;INNER JOIN SGT_PERSON PERSON WITH(NOLOCK) on PAY.PAYEE_PERSLINK_ID=PERSON.PERSON_ID&#xD;&#xA;WHERE  NOT (DROAPP.DRO_APPLICATION_ID IS  NULL AND BEN.BENEFIT_APPLICATION_ID IS  NULL)&#xD;&#xA;and REQUEST.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID = @requestId&#xD;&#xA;ORDER BY PAY.PAYEE_PERSLINK_ID,2,PERSON.SSN">
      <parameters>
        <parameter ID="@requestId" sfwDataType="int" />
        <parameter ID="@BATCHRUN_DATE" sfwDataType="DateTime" />
      </parameters>
    </query>
    <query ID="LoadCOLAAdhocRequestForPayeeAccount" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="DECLARE @PAYMENTDATE DATETIME &#xD;&#xA;SELECT @PAYMENTDATE =  max(PAYMENT_DATE)&#xD;&#xA; FROM SGT_PAYMENT_SCHEDULE &#xD;&#xA; WHERE STATUS_VALUE = 'PRCD' &#xD;&#xA; AND SCHEDULE_TYPE_VALUE = 'MTLY'&#xD;&#xA;set @PAYMENTDATE =  Dateadd(m,1,@PAYMENTDATE)&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;SELECT  PAYEE.*, APPPLAN.* FROM SGT_PAYEE_ACCOUNT PAYEE WITH(NOLOCK)&#xD;&#xA; INNER JOIN DBO.SGT_PAYEE_ACCOUNT_STATUS PAS WITH(NOLOCK) ON PAS.PAYEE_ACCOUNT_ID = PAYEE.PAYEE_ACCOUNT_ID &#xD;&#xA; INNER JOIN DBO.SGS_CODE_VALUE CV WITH(NOLOCK) ON PAS.STATUS_ID= CV.CODE_ID AND PAS.STATUS_VALUE = CV.CODE_VALUE&#xD;&#xA; INNER JOIN DBO.SGT_PAYMENT_HISTORY_HEADER HISTORY WITH(NOLOCK) on HISTORY.PAYEE_ACCOUNT_ID=PAYEE.PAYEE_ACCOUNT_ID &#xD;&#xA;AND HISTORY.PAYMENT_DATE &lt;=@COLA_EFFECTIVE_DATE&#xD;&#xA; INNER JOIN SGT_BENEFIT_APPLICATION APP WITH(NOLOCK) ON PAYEE.APPLICATION_ID=APP.BENEFIT_APPLICATION_ID &#xD;&#xA;INNER JOIN SGT_PLAN APPPLAN WITH(NOLOCK) ON APPPLAN.PLAN_ID=APP.PLAN_ID&#xD;&#xA; WHERE ( CV.DATA2 = 'REVW' OR CV.DATA2 = 'RECV' OR CV.DATA2 = 'APRD' )  &#xD;&#xA; AND PAYEE_ACCOUNT_STATUS_ID  = &#xD;&#xA;  (&#xD;&#xA;   SELECT TOP 1 PAYEE_ACCOUNT_STATUS_ID&#xD;&#xA;    FROM SGT_PAYEE_ACCOUNT_STATUS PAS1 (nolock)&#xD;&#xA;    WHERE PAS1.PAYEE_ACCOUNT_ID = PAYEE.PAYEE_ACCOUNT_ID&#xD;&#xA;     AND PAS1.STATUS_EFFECTIVE_DATE &lt;= @PAYMENTDATE&#xD;&#xA;    ORDER BY PAS1.STATUS_EFFECTIVE_DATE DESC,PAS1.PAYEE_ACCOUNT_STATUS_ID DESC&#xD;&#xA;  )&#xD;&#xA;AND HISTORY.PAYMENT_HISTORY_HEADER_ID = (SELECT TOP 1 PAYMENT_HISTORY_HEADER_ID FROM SGT_PAYMENT_HISTORY_HEADER HISTORY1 WITH(NOLOCK) WHERE HISTORY1.PAYEE_ACCOUNT_ID=PAYEE.PAYEE_ACCOUNT_ID &#xD;&#xA;AND HISTORY.PAYMENT_DATE &lt;=@COLA_EFFECTIVE_DATE&#xD;&#xA;) AND APP.PLAN_ID in (Select PLAN_ID FROM SGT_POST_RETIREMENT_INCREASE_BATCH_PLAN PLN WITH(NOLOCK) WHERE PLN.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID&#xD;&#xA;AND PLN.PLAN_ID &lt;&gt; 23)&#xD;&#xA;AND PAYEE.BENEFIT_ACCOUNT_TYPE_VALUE IN (Select BENEFIT_ACCOUNT_TYPE_VALUE&#xD;&#xA;FROM SGT_POST_RETIREMENT_INCREASE_BATCH_BENEFIT_ACCOUNT_TYPE ATYPE WITH(NOLOCK) WHERE ATYPE.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID)&#xD;&#xA; AND PAYEE.BENEFIT_OPTION_VALUE NOT IN ('AURD','REFD')&#xD;&#xA;AND PAYEE.ACCOUNT_RELATION_VALUE IN ( Select  ACCOUNT_RELATIONSHIP_VALUE  FROM &#xD;&#xA;SGT_POST_RETIREMENT_INCREASE_BATCH_ACCOUNT_RELATIONSHIP AREL WITH(NOLOCK) WHERE AREL.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID)&#xD;&#xA;AND PAYEE.PAYEE_ACCOUNT_ID NOT IN (SELECT PAYEE_ACCOUNT_ID FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL BATDET WITH(NOLOCK) WHERE IS_PROCESSED_FLAG='Y' AND&#xD;&#xA;POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID )&#xD;&#xA;and Payee.Payee_account_id = @PayeeAccountId&#xD;&#xA;&#xD;&#xA;UNION&#xD;&#xA;&#xD;&#xA; SELECT  PAYEE.*, APPPLAN.* FROM SGT_PAYEE_ACCOUNT PAYEE&#xD;&#xA; INNER JOIN DBO.SGT_PAYEE_ACCOUNT_STATUS PAS WITH(NOLOCK) ON PAS.PAYEE_ACCOUNT_ID = PAYEE.PAYEE_ACCOUNT_ID &#xD;&#xA; INNER JOIN DBO.SGS_CODE_VALUE CV WITH(NOLOCK) ON PAS.STATUS_ID= CV.CODE_ID AND PAS.STATUS_VALUE = CV.CODE_VALUE&#xD;&#xA; INNER JOIN DBO.SGT_PAYMENT_HISTORY_HEADER HISTORY WITH(NOLOCK) on HISTORY.PAYEE_ACCOUNT_ID=PAYEE.PAYEE_ACCOUNT_ID &#xD;&#xA;AND HISTORY.PAYMENT_DATE &lt;=@COLA_EFFECTIVE_DATE&#xD;&#xA; INNER JOIN SGT_BENEFIT_DRO_APPLICATION APP WITH(NOLOCK) ON PAYEE.DRO_APPLICATION_ID=APP.DRO_APPLICATION_ID &#xD;&#xA;INNER JOIN SGT_PLAN APPPLAN WITH(NOLOCK) ON APPPLAN.PLAN_ID=APP.PLAN_ID&#xD;&#xA; WHERE  (CV.DATA2 = 'REVW' OR CV.DATA2 = 'RECV' OR CV.DATA2 = 'APRD' )  &#xD;&#xA; AND PAYEE_ACCOUNT_STATUS_ID  = &#xD;&#xA;  (&#xD;&#xA;   SELECT TOP 1 PAYEE_ACCOUNT_STATUS_ID&#xD;&#xA;    FROM SGT_PAYEE_ACCOUNT_STATUS PAS1 (nolock)&#xD;&#xA;    WHERE PAS1.PAYEE_ACCOUNT_ID = PAYEE.PAYEE_ACCOUNT_ID&#xD;&#xA;     AND PAS1.STATUS_EFFECTIVE_DATE &lt;= @PAYMENTDATE&#xD;&#xA;    ORDER BY PAS1.STATUS_EFFECTIVE_DATE DESC,PAS1.PAYEE_ACCOUNT_STATUS_ID DESC&#xD;&#xA;  )&#xD;&#xA;AND HISTORY.PAYMENT_HISTORY_HEADER_ID = (SELECT TOP 1 PAYMENT_HISTORY_HEADER_ID FROM SGT_PAYMENT_HISTORY_HEADER HISTORY1 WITH(NOLOCK) WHERE HISTORY1.PAYEE_ACCOUNT_ID=PAYEE.PAYEE_ACCOUNT_ID &#xD;&#xA;AND HISTORY.PAYMENT_DATE &lt;=@COLA_EFFECTIVE_DATE &#xD;&#xA;) AND &#xD;&#xA;APP.PLAN_ID in (Select PLAN_ID FROM SGT_POST_RETIREMENT_INCREASE_BATCH_PLAN PLN WITH(NOLOCK) WHERE PLN.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID&#xD;&#xA;AND PLN.PLAN_ID &lt;&gt; 23)&#xD;&#xA;AND PAYEE.BENEFIT_ACCOUNT_TYPE_VALUE IN (Select BENEFIT_ACCOUNT_TYPE_VALUE&#xD;&#xA;FROM SGT_POST_RETIREMENT_INCREASE_BATCH_BENEFIT_ACCOUNT_TYPE ATYPE WITH(NOLOCK) WHERE ATYPE.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID)&#xD;&#xA; AND PAYEE.BENEFIT_OPTION_VALUE NOT IN ('AURD','REFD')&#xD;&#xA;AND PAYEE.ACCOUNT_RELATION_VALUE IN ( Select  ACCOUNT_RELATIONSHIP_VALUE  FROM &#xD;&#xA;SGT_POST_RETIREMENT_INCREASE_BATCH_ACCOUNT_RELATIONSHIP AREL WITH(NOLOCK) WHERE AREL.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID)&#xD;&#xA; AND PAYEE.PAYEE_ACCOUNT_ID NOT IN (SELECT PAYEE_ACCOUNT_ID FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL BATDET WITH(NOLOCK) WHERE IS_PROCESSED_FLAG='Y' AND&#xD;&#xA;POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID )&#xD;&#xA;and Payee.Payee_account_id = @PayeeAccountId&#xD;&#xA;&#xD;&#xA;UNION&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;SELECT  PAYEE.*, APPPLAN.* FROM SGT_PAYEE_ACCOUNT PAYEE WITH(NOLOCK)&#xD;&#xA; INNER JOIN DBO.SGT_PAYEE_ACCOUNT_STATUS PAS WITH(NOLOCK) ON PAS.PAYEE_ACCOUNT_ID = PAYEE.PAYEE_ACCOUNT_ID &#xD;&#xA; INNER JOIN DBO.SGS_CODE_VALUE CV WITH(NOLOCK) ON PAS.STATUS_ID= CV.CODE_ID AND PAS.STATUS_VALUE = CV.CODE_VALUE &#xD;&#xA; INNER JOIN SGT_BENEFIT_APPLICATION APP WITH(NOLOCK) ON PAYEE.APPLICATION_ID=APP.BENEFIT_APPLICATION_ID &#xD;&#xA;INNER JOIN SGT_PLAN APPPLAN WITH(NOLOCK) ON APPPLAN.PLAN_ID=APP.PLAN_ID&#xD;&#xA; WHERE (CV.DATA2 = '3RDP')  &#xD;&#xA; AND PAYEE_ACCOUNT_STATUS_ID  = &#xD;&#xA;  (&#xD;&#xA;   SELECT TOP 1 PAYEE_ACCOUNT_STATUS_ID&#xD;&#xA;    FROM SGT_PAYEE_ACCOUNT_STATUS PAS1 (nolock)&#xD;&#xA;    WHERE PAS1.PAYEE_ACCOUNT_ID = PAYEE.PAYEE_ACCOUNT_ID&#xD;&#xA;     AND PAS1.STATUS_EFFECTIVE_DATE &lt;= @PAYMENTDATE&#xD;&#xA;    ORDER BY PAS1.STATUS_EFFECTIVE_DATE DESC,PAS1.PAYEE_ACCOUNT_STATUS_ID DESC&#xD;&#xA;  )&#xD;&#xA;AND APP.PLAN_ID in (Select PLAN_ID FROM SGT_POST_RETIREMENT_INCREASE_BATCH_PLAN PLN WITH(NOLOCK) WHERE PLN.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID&#xD;&#xA;AND PLN.PLAN_ID = 23)&#xD;&#xA;AND PAYEE.BENEFIT_ACCOUNT_TYPE_VALUE IN (Select BENEFIT_ACCOUNT_TYPE_VALUE&#xD;&#xA;FROM SGT_POST_RETIREMENT_INCREASE_BATCH_BENEFIT_ACCOUNT_TYPE ATYPE WITH(NOLOCK) WHERE ATYPE.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID)&#xD;&#xA; AND PAYEE.BENEFIT_OPTION_VALUE NOT IN ('AURD','REFD')&#xD;&#xA;AND PAYEE.ACCOUNT_RELATION_VALUE IN ( Select  ACCOUNT_RELATIONSHIP_VALUE  FROM &#xD;&#xA;SGT_POST_RETIREMENT_INCREASE_BATCH_ACCOUNT_RELATIONSHIP AREL WITH(NOLOCK) WHERE AREL.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID)&#xD;&#xA;AND PAYEE.PAYEE_ACCOUNT_ID NOT IN (SELECT PAYEE_ACCOUNT_ID FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL BATDET WITH(NOLOCK) WHERE IS_PROCESSED_FLAG='Y' AND&#xD;&#xA;POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=@BATCH_REQUEST_ID )&#xD;&#xA;and Payee.Payee_account_id = @PayeeAccountId&#xD;&#xA;">
      <parameters>
        <parameter ID="@COLA_EFFECTIVE_DATE" sfwDataType="DateTime" />
        <parameter ID="@BATCH_REQUEST_ID" sfwDataType="int" />
        <parameter ID="@PayeeAccountId" sfwDataType="int" />
      </parameters>
    </query>
    <query ID="GetSupplementalCheckAmount" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="SELECT PAPIT.*&#xD;&#xA;FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST REQ WITH(NOLOCK)&#xD;&#xA;INNER JOIN SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST_DETAIL DETL WITH(NOLOCK)&#xD;&#xA; ON DETL.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID = REQ.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID&#xD;&#xA;INNER JOIN SGT_PAYEE_ACCOUNT_PAYMENT_ITEM_TYPE PAPIT WITH(NOLOCK)&#xD;&#xA; ON DETL.PAYEE_ACCOUNT_PAYMENT_ITEM_TYPE_ID = PAPIT.PAYEE_ACCOUNT_PAYMENT_ITEM_TYPE_ID&#xD;&#xA;INNER JOIN SGT_PAYMENT_ITEM_TYPE PIT WITH(NOLOCK)&#xD;&#xA; ON DETL.PAYMENT_ITEM_TYPE_ID = PIT.PAYMENT_ITEM_TYPE_ID&#xD;&#xA;WHERE BATCH_REQUEST_STATUS_VALUE = 'PROC'&#xD;&#xA; AND ACTION_STATUS_VALUE = 'APPR' &#xD;&#xA; AND STATUS_VALUE = 'VALD'&#xD;&#xA; AND POST_RETIREMENT_INCREASE_TYPE_VALUE = 'SUPP'&#xD;&#xA; AND EFFECTIVE_DATE BETWEEN @STARTDATE  AND @ENDDATE&#xD;&#xA; AND PIT.ITEM_TYPE_CODE = 'ITEM24'&#xD;&#xA; AND DETL.PAYEE_ACCOUNT_ID = @PAYEEACCOUNTID">
      <parameters>
        <parameter ID="@STARTDATE" sfwDataType="DateTime" />
        <parameter ID="@ENDDATE" sfwDataType="DateTime" />
        <parameter ID="@PAYEEACCOUNTID" sfwDataType="int" />
      </parameters>
    </query>
    <query ID="GetCOLADHOCRequestFortheGivenPeriod" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="SELECT DISTINCT REQ.* &#xD;&#xA;FROM SGT_POST_RETIREMENT_INCREASE_BATCH_REQUEST  REQ&#xD;&#xA;INNER JOIN SGT_POST_RETIREMENT_INCREASE_BATCH_BENEFIT_ACCOUNT_TYPE ATYPE WITH(NOLOCK) ON ATYPE.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQ.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID&#xD;&#xA;INNER JOIN SGT_POST_RETIREMENT_INCREASE_BATCH_PLAN PLN WITH(NOLOCK) ON PLN.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQ.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID&#xD;&#xA;INNER JOIN SGT_POST_RETIREMENT_INCREASE_BATCH_ACCOUNT_RELATIONSHIP AREL WITH(NOLOCK) ON AREL.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID=REQ.POST_RETIREMENT_INCREASE_BATCH_REQUEST_ID&#xD;&#xA;WHERE BATCH_REQUEST_STATUS_VALUE = 'PROC'&#xD;&#xA;AND ACTION_STATUS_VALUE = 'APPR' &#xD;&#xA;AND STATUS_VALUE IN ('PROC','VALD')&#xD;&#xA;AND POST_RETIREMENT_INCREASE_TYPE_VALUE &lt;&gt; 'SUPP'&#xD;&#xA;AND EFFECTIVE_DATE BETWEEN @EFFECTIVESTARTDATE  AND @EFFECTIVEENDDATE &#xD;&#xA;AND BENEFIT_ACCOUNT_TYPE_VALUE=@BENEFIT_ACCOUNT_TYPE_VALUE&#xD;&#xA;AND PLN.PLAN_ID =@PLAN_ID&#xD;&#xA;AND AREL.ACCOUNT_RELATIONSHIP_VALUE =@ACCOUNT_RELATIONSHIP_VALUE  ">
      <parameters>
        <parameter ID="@EFFECTIVESTARTDATE" sfwDataType="DateTime" />
        <parameter ID="@EFFECTIVEENDDATE" sfwDataType="DateTime" />
        <parameter ID="@BENEFIT_ACCOUNT_TYPE_VALUE" sfwDataType="string" />
        <parameter ID="@PLAN_ID" sfwDataType="int" />
        <parameter ID="@ACCOUNT_RELATIONSHIP_VALUE" sfwDataType="string" />
      </parameters>
    </query>
  </queries>
  <attributes>
    <attribute ID="PostRetirementIncreaseBatchRequestId" sfwType="Column" sfwValue="post_retirement_increase_batch_request_id" sfwKeyNo="1" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="True" sfwDataType="int" sfwRequired="False" />
    <attribute ID="PostRetirementIncreaseTypeDescription" sfwType="Description" sfwValue="post_retirement_increase_type_description" />
    <attribute ID="PostRetirementIncreaseTypeId" sfwType="Column" sfwValue="post_retirement_increase_type_id" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwCodeID="3000" sfwDataType="int" sfwRequired="False" />
    <attribute ID="PostRetirementIncreaseTypeValue" sfwType="Column" sfwValue="post_retirement_increase_type_value" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="string" sfwRequired="False" sfwLength="4" />
    <attribute ID="BaseDate" sfwType="Column" sfwValue="base_date" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="DateTime" sfwRequired="False" />
    <attribute ID="EffectiveDate" sfwType="Column" sfwValue="effective_date" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="DateTime" sfwRequired="False" />
    <attribute ID="IncreasePercentage" sfwType="Column" sfwValue="increase_percentage" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="decimal" sfwRequired="False" sfwLength="13,2" />
    <attribute ID="IncreaseFlatAmount" sfwType="Column" sfwValue="increase_flat_amount" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="decimal" sfwRequired="False" sfwLength="13,2" />
    <attribute ID="Comments" sfwType="Column" sfwValue="comments" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="True" sfwIsIdentity="False" sfwDataType="string" sfwRequired="False" sfwLength="2000" />
    <attribute ID="SuppressWarningsFlag" sfwType="Column" sfwValue="suppress_warnings_flag" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="string" sfwRequired="False" sfwLength="1" />
    <attribute ID="SuppressWarningsBy" sfwType="Column" sfwValue="suppress_warnings_by" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="True" sfwIsIdentity="False" sfwDataType="string" sfwRequired="False" sfwLength="50" />
    <attribute ID="SuppressWarningsDate" sfwType="Column" sfwValue="suppress_warnings_date" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="True" sfwIsIdentity="False" sfwDataType="DateTime" sfwRequired="False" />
    <attribute ID="StatusDescription" sfwType="Description" sfwValue="status_description" />
    <attribute ID="StatusId" sfwType="Column" sfwValue="status_id" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwCodeID="3002" sfwDataType="int" sfwRequired="False" />
    <attribute ID="StatusValue" sfwType="Column" sfwValue="status_value" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="string" sfwRequired="False" sfwLength="4" />
    <attribute ID="ActionStatusDescription" sfwType="Description" sfwValue="action_status_description" />
    <attribute ID="ActionStatusId" sfwType="Column" sfwValue="action_status_id" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwCodeID="2302" sfwDataType="int" sfwRequired="False" />
    <attribute ID="ActionStatusValue" sfwType="Column" sfwValue="action_status_value" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="string" sfwRequired="False" sfwLength="4" />
    <attribute ID="ApprovedBy" sfwType="Column" sfwValue="approved_by" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="True" sfwIsIdentity="False" sfwDataType="string" sfwRequired="False" sfwLength="50" />
    <attribute ID="BatchRequestStatusDescription" sfwType="Description" sfwValue="batch_request_status_description" />
    <attribute ID="BatchRequestStatusId" sfwType="Column" sfwValue="batch_request_status_id" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwCodeID="3001" sfwDataType="int" sfwRequired="False" />
    <attribute ID="BatchRequestStatusValue" sfwType="Column" sfwValue="batch_request_status_value" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="True" sfwIsIdentity="False" sfwDataType="string" sfwRequired="False" sfwLength="4" />
    <attribute ID="CreatedBy" sfwType="Column" sfwValue="created_by" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="string" sfwRequired="False" sfwLength="50" />
    <attribute ID="CreatedDate" sfwType="Column" sfwValue="created_date" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="DateTime" sfwRequired="False" />
    <attribute ID="ModifiedBy" sfwType="Column" sfwValue="modified_by" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="string" sfwRequired="False" sfwLength="50" />
    <attribute ID="ModifiedDate" sfwType="Column" sfwValue="modified_date" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="DateTime" sfwRequired="False" />
    <attribute ID="UpdateSeq" sfwType="Column" sfwValue="update_seq" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="int" sfwRequired="False" />
    <attribute sfwType="CDOCollection" sfwEntity="entPostRetirementIncreaseBatchPlan" ID="lstIclcPlan" sfwValue="iclcPlan" />
    <attribute sfwType="CDOCollection" sfwEntity="entPostRetirementIncreaseBatchBenefitAccountType" ID="lstIclcBenefitAccount" sfwValue="iclcBenefitAccount" />
    <attribute sfwType="CDOCollection" sfwEntity="entPostRetirementIncreaseBatchAccountRelationship" ID="lstIclcAccountRelationship" sfwValue="iclcAccountRelationship" />
    <attribute ID="objPayeeAccount" sfwType="Object" sfwEntity="entPayeeAccount" sfwValue="ibusPayeeAccount" />
    <attribute sfwDataType="decimal" sfwType="Property" ID="IdecBenefitAmount" sfwValue="idecBenefitAmount" />
    <attribute sfwDataType="decimal" sfwType="Property" ID="IdecFedTaxAmount" sfwValue="idecFedTaxAmount" />
    <attribute sfwDataType="string" sfwType="Property" ID="IsFlatIncreaseEntered" sfwValue="IsFlatIncreaseEntered" />
    <attribute sfwDataType="string" sfwType="Property" ID="IsPercentageIncreaseEntered" sfwValue="IsPercentageIncreaseEntered" />
    <attribute sfwDataType="decimal" sfwType="Property" ID="IdecStateTaxAmount" sfwValue="idecStateTaxAmount" />
    <attribute sfwDataType="decimal" sfwType="Property" ID="IdecNetAmount" sfwValue="idecNetAmount" />
    <attribute sfwDataType="decimal" sfwType="Property" ID="IdecNetNewBenefitAmount" sfwValue="idecNetNewBenefitAmount" />
    <attribute sfwDataType="decimal" sfwType="Property" ID="IdecNewBenefitAmount" sfwValue="idecNewBenefitAmount" />
    <attribute sfwDataType="decimal" sfwType="Property" ID="IdecNewFedTaxAmount" sfwValue="idecNewFedTaxAmount" />
    <attribute sfwDataType="decimal" sfwType="Property" ID="IdecNewStateTaxAmount" sfwValue="idecNewStateTaxAmount" />
    <attribute sfwDataType="string" sfwType="Property" ID="IstrCOLAIncrease" sfwValue="istrCOLAIncrease" />
    <attribute sfwDataType="string" sfwType="Property" ID="IstrCurrentYear" sfwValue="icdoPostRetirementIncreaseBatchRequest.istrCurrentYear" />
    <attribute sfwDataType="string" sfwType="Property" ID="IstrOrgCodeId" sfwValue="istrOrgCodeId" />
    <attribute sfwDataType="string" sfwType="Property" ID="IstrCOLAEffectiveDateLongDate" sfwValue="istrCOLAEffectiveDateLongDate" />
    <attribute sfwDataType="string" sfwType="Property" ID="IstrPriorPlanYear" sfwValue="istrPriorPlanYear" />
    <attribute sfwDataType="boolean" sfwType="Property" ID="IsHealthPremiumNull" sfwValue="IsHealthPremiumNull" />
    <attribute sfwDataType="boolean" sfwType="Property" ID="IsLifePremiumNull" sfwValue="IsLifePremiumNull" />
    <attribute sfwDataType="boolean" sfwType="Property" ID="IsDentalPremiumNull" sfwValue="IsDentalPremiumNull" />
    <attribute sfwDataType="boolean" sfwType="Property" ID="IsVisionPremiumNull" sfwValue="IsVisionPremiumNull" />
    <attribute sfwDataType="boolean" sfwType="Property" ID="IsFederalTaxNull" sfwValue="IsFederalTaxNull" />
    <attribute sfwDataType="boolean" sfwType="Property" ID="IsStateTaxNull" sfwValue="IsStateTaxNull" />
    <attribute sfwDataType="boolean" sfwType="Property" ID="IsNDPADeductionNull" sfwValue="IsNDPADeductionNull" />
    <attribute sfwDataType="boolean" sfwType="Property" ID="IsAFPEDeductionNull" sfwValue="IsAFPEDeductionNull" />
    <attribute sfwType="CDOCollection" sfwEntity="entPostRetirementIncreaseBatchRequestDetail" ID="lstPorRetirementIncreaseBatchRequestDetail" sfwValue="iclbPorRetirementIncreaseBatchRequestDetail" />
    <attribute sfwDataType="bool" ID="IsMedicarePremiumNull"  sfwValue="IsMedicarePremiumNull" sfwType="Property" />
  </attributes>
  <objectmethods>
    <method ID="btnApproveClicked" sfwReturnType="ArrayList" />
    <method ID="btnCancelClicked" sfwReturnType="ArrayList" />
    <method ID="LoadPlanList" sfwReturnType="Void" />
    <method ID="LoadBenefitAccoutTypeList" sfwReturnType="Void" />
    <method ID="LoadAccountRelationshipList" sfwReturnType="Void" />
    <method ID="LoadPostRetirementIncreaseBatchRequestDetail" sfwReturnType="Void" />
  </objectmethods>
</entity>