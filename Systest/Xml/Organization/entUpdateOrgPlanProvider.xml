<?xml version="1.0" encoding="utf-8"?>
<entity ID="entUpdateOrgPlanProvider" sfwActive="True" sfwStatus="Valid" sfwType="BusinessRule" sfwMainCDO="icdoUpdateOrgPlanProvider" sfwReadOnlyRule="IsStatusProcessed" sfwObjectID="busUpdateOrgPlanProvider" sfwTableName="sgt_update_org_plan_provider" sfwView="False">
  <rules>
    <rule ID="IsEffectiveDateEmpty" sfwMessageId="9006" sfwExpression="(this.icdoUpdateOrgPlanProvider.effective_date == DateTime.MinValue)" sfwObjectBased="True" />
    <rule ID="IsEmployerOrgCodeEmpty" sfwMessageId="9000" sfwExpression="(string.IsNullOrEmpty(this.icdoUpdateOrgPlanProvider.employer_org_code))" sfwObjectBased="True" />
    <rule ID="IsEmployerOrgTypeNotEmployer" sfwMessageId="9003" sfwExpression="(RFunc.GetValue&lt;String&gt;(this, &quot;ibusEmployerOrg.icdoOrganization.org_type_value&quot;) != &quot;EMPL&quot;)" sfwObjectBased="True" />
    <rule ID="IsFromOrgTypeNotProvider" sfwMessageId="9004" sfwExpression="(RFunc.GetValue&lt;String&gt;(this, &quot;ibusFromProviderOrg.icdoOrganization.org_type_value&quot;) != &quot;PRVD&quot;)" sfwObjectBased="True" />
    <rule ID="IsFromProviderOrgCodeEmpty" sfwMessageId="9001" sfwExpression="(string.IsNullOrEmpty(this.icdoUpdateOrgPlanProvider.from_provider_org_code))" sfwObjectBased="True" />
    <rule ID="IsStatusProcessed" sfwExpression="(this.icdoUpdateOrgPlanProvider.status_value == &quot;PRSD&quot;)" sfwObjectBased="True" />
    <rule ID="IsToOrgTypeNotProvider" sfwMessageId="9005" sfwExpression="(RFunc.GetValue&lt;String&gt;(this, &quot;ibusToProviderOrg.icdoOrganization.org_type_value&quot;) != &quot;PRVD&quot;)" sfwObjectBased="True" />
    <rule ID="IsToProviderOrgCodeEmpty" sfwMessageId="9002" sfwExpression="(string.IsNullOrEmpty(this.icdoUpdateOrgPlanProvider.to_provider_org_code))" sfwObjectBased="True" />
    <rule ID="VisbileRuleUpdateButton" sfwExpression="(this.icdoUpdateOrgPlanProvider.status_value == &quot;NTPR&quot;)" sfwObjectBased="True" />
    <rule ID="IsGivenInfoValid" sfwMessageId="9007" sfwExpression="(this.IsGivenInfoValid() == False)" sfwObjectBased="True" />
  </rules>
  <delete />
  <checklist />
  <initialload>
    <item ID="VisbileRuleUpdateButton" sfwMode="All" sfwStatus="Active" />
    <item ID="IsStatusProcessed" sfwMode="All" sfwStatus="Active" />
  </initialload>
  <softerror />
  <harderror>
    <item ID="IsEmployerOrgCodeEmpty" sfwMode="All" sfwStatus="Active" />
    <item ID="IsFromProviderOrgCodeEmpty" sfwMode="All" sfwStatus="Active" />
    <item ID="IsToProviderOrgCodeEmpty" sfwMode="All" sfwStatus="Active" />
    <item ID="IsEmployerOrgTypeNotEmployer" sfwMode="All" sfwStatus="Active" />
    <item ID="IsFromOrgTypeNotProvider" sfwMode="All" sfwStatus="Active" />
    <item ID="IsToOrgTypeNotProvider" sfwMode="All" sfwStatus="Active" />
    <item ID="IsEffectiveDateEmpty" sfwMode="All" sfwStatus="Active" />
    <item ID="IsGivenInfoValid" sfwMode="All" sfwStatus="Active" />
  </harderror>
  <validatedelete />
  <groupslist />
  <updateablecdo />
  <commonproperties />
  <expressionfields />
  <queries>
    <query ID="Lookup" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="SELECT * FROM SGT_UPDATE_ORG_PLAN_PROVIDER A WITH(NOLOCK)">
      <parameters />
    </query>
    <query ID="sqEmployer" sfwQueryType="SubSelectQuery" sfwSql="SELECT * FROM SGT_ORGANIZATION B WITH(NOLOCK)&#xD;&#xA;WHERE B.ORG_ID=A.EMPLOYER_ORG_ID">
      <parameters />
    </query>
    <query ID="sqFromProvider" sfwQueryType="SubSelectQuery" sfwSql="SELECT * FROM SGT_ORGANIZATION C WITH(NOLOCK)&#xD;&#xA;WHERE C.ORG_ID=A.FROM_PROVIDER_ORG_ID">
      <parameters />
    </query>
    <query ID="sqToProvider" sfwQueryType="SubSelectQuery" sfwSql="SELECT * FROM SGT_ORGANIZATION D WITH(NOLOCK)&#xD;&#xA;WHERE D.ORG_ID=A.TO_PROVIDER_ORG_ID">
      <parameters />
    </query>
    <query ID="GetAllEAPAccounts" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="SELECT DISTINCT SPA.*, PER.* FROM SGT_PERSON_ACCOUNT SPA WITH(NOLOCK)&#xD;&#xA;INNER JOIN SGT_PERSON_ACCOUNT_EMPLOYMENT_DETAIL SPAED WITH(NOLOCK) ON SPA.PERSON_ACCOUNT_ID=SPAED.PERSON_ACCOUNT_ID&#xD;&#xA;INNER JOIN SGT_PERSON_EMPLOYMENT_DETAIL SPED WITH(NOLOCK) ON SPED.PERSON_EMPLOYMENT_DTL_ID=SPAED.PERSON_EMPLOYMENT_DTL_ID&#xD;&#xA;INNER JOIN SGT_PERSON_EMPLOYMENT SPE WITH(NOLOCK) ON SPE.PERSON_EMPLOYMENT_ID=SPED.PERSON_EMPLOYMENT_ID&#xD;&#xA;INNER JOIN SGT_PERSON PER WITH(NOLOCK) ON PER.PERSON_ID=SPA.PERSON_ID&#xD;&#xA;WHERE SPA.PLAN_ID=@PLAN_ID AND &#xD;&#xA;SPA.PROVIDER_ORG_ID=@FROM_PROVIDER_ORG AND&#xD;&#xA;SPE.ORG_ID=@EMPLOYER_ORG AND&#xD;&#xA;SPE.END_DATE IS NULL&#xD;&#xA;">
      <parameters>
        <parameter ID="@PLAN_ID" sfwDataType="int" />
        <parameter ID="@FROM_PROVIDER_ORG" sfwDataType="int" />
        <parameter ID="@EMPLOYER_ORG" sfwDataType="int" />
      </parameters>
    </query>
  </queries>
  <attributes>
    <attribute ID="RequestId" sfwType="Column" sfwValue="request_id" sfwKeyNo="1" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="True" sfwDataType="int" sfwRequired="False" />
    <attribute ID="EmployerOrgId" sfwType="Column" sfwValue="employer_org_id" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="int" sfwRequired="False" />
    <attribute ID="FromProviderOrgId" sfwType="Column" sfwValue="from_provider_org_id" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="int" sfwRequired="False" />
    <attribute ID="ToProviderOrgId" sfwType="Column" sfwValue="to_provider_org_id" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="int" sfwRequired="False" />
    <attribute ID="EffectiveDate" sfwType="Column" sfwValue="effective_date" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="DateTime" sfwRequired="False" />
    <attribute ID="StatusDescription" sfwType="Description" sfwValue="status_description" />
    <attribute ID="StatusId" sfwType="Column" sfwValue="status_id" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwCodeID="1506" sfwDataType="int" sfwRequired="False" />
    <attribute ID="StatusValue" sfwType="Column" sfwValue="status_value" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="True" sfwIsIdentity="False" sfwDataType="string" sfwRequired="False" sfwLength="4" />
    <attribute ID="PlanId" sfwType="Column" sfwValue="plan_id" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="True" sfwIsIdentity="False" sfwDataType="int" sfwRequired="False" />
    <attribute ID="CreatedBy" sfwType="Column" sfwValue="created_by" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="string" sfwRequired="False" sfwLength="50" />
    <attribute ID="CreatedDate" sfwType="Column" sfwValue="created_date" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="DateTime" sfwRequired="False" />
    <attribute ID="ModifiedBy" sfwType="Column" sfwValue="modified_by" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="string" sfwRequired="False" sfwLength="50" />
    <attribute ID="ModifiedDate" sfwType="Column" sfwValue="modified_date" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="DateTime" sfwRequired="False" />
    <attribute ID="objEmployerOrg" sfwType="Object" sfwEntity="entOrganization" sfwValue="ibusEmployerOrg" />
    <attribute ID="objFromProviderOrg" sfwType="Object" sfwEntity="entOrganization" sfwValue="ibusFromProviderOrg" />
    <attribute ID="objToProviderOrg" sfwType="Object" sfwEntity="entOrganization" sfwValue="ibusToProviderOrg" />
    <attribute ID="objPlan" sfwType="Object" sfwEntity="entPlan" sfwValue="ibusPlan" />
    <attribute sfwDataType="string" sfwType="Property" ID="EmployerOrgCode" sfwValue="icdoUpdateOrgPlanProvider.employer_org_code" />
    <attribute sfwDataType="string" sfwType="Property" ID="FromProviderOrgCode" sfwValue="icdoUpdateOrgPlanProvider.from_provider_org_code" />
    <attribute sfwDataType="string" sfwType="Property" ID="ToProviderOrgCode" sfwValue="icdoUpdateOrgPlanProvider.to_provider_org_code" />
  </attributes>
  <objectmethods>
    <method ID="btnUpdateOrgPlanProvider" sfwReturnType="ArrayList" />
  </objectmethods>
</entity>