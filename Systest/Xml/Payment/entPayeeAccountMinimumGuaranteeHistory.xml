<?xml version="1.0" encoding="utf-8"?>
<entity ID="entPayeeAccountMinimumGuaranteeHistory" sfwMainCDO="icdoPayeeAccountMinimumGuaranteeHistory" sfwType="BusinessRule" sfwActive="True" sfwStatus="Review" sfwObjectID="busPayeeAccountMinimumGuaranteeHistory" sfwTableName="sgt_payee_account_minimum_guarantee_history" sfwView="False">
  <queries>
    <query ID="UpdateMinimumGuaranteeHistory" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="Update a&#xD;&#xA;set    a.PROCESS_STATUS_FLAG='Y',&#xD;&#xA;    a.MODIFIED_BY='PERSLink Batch'+' '+ convert(nvarchar,@batchscheduleid),&#xD;&#xA;    a.MODIFIED_DATE=getdate(),&#xD;&#xA;    a.UPDATE_SEQ=a.UPDATE_SEQ+1&#xD;&#xA;from SGT_PAYEE_ACCOUNT_MINIMUM_GUARANTEE_HISTORY a&#xD;&#xA; inner join SGT_PAYMENT_HISTORY_HEADER b&#xD;&#xA;  on a.payee_account_id=b.payee_Account_id&#xD;&#xA;where isnull(PROCESS_STATUS_FLAG,'N')&lt;&gt;'Y' and b.payment_schedule_id=@paymentsheduleid">
      <parameters>
        <parameter ID="@paymentsheduleid" sfwDataType="int" />
        <parameter ID="@batchscheduleid" sfwDataType="int" />
      </parameters>
    </query>
  </queries>
  <attributes>
    <attribute ID="MininumGuaranteeHistoryId" sfwType="Column" sfwValue="mininum_guarantee_history_id" sfwKeyNo="1" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="True" sfwDataType="int" sfwRequired="False" />
    <attribute ID="PayeeAccountId" sfwType="Column" sfwValue="payee_account_id" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="int" sfwRequired="False" />
    <attribute ID="OldMinumumGuaranteeAmount" sfwType="Column" sfwValue="old_minumum_guarantee_amount" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwRequired="False" />
    <attribute ID="ChangeDate" sfwType="Column" sfwValue="change_date" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="DateTime" sfwRequired="False" />
    <attribute ID="ProcessStatusFlag" sfwType="Column" sfwValue="process_status_flag" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="string" sfwLength="1" sfwRequired="False" />
    <attribute ID="CreatedBy" sfwType="Column" sfwValue="created_by" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="True" sfwIsIdentity="False" sfwDataType="string" sfwLength="50" sfwRequired="False" />
    <attribute ID="CreatedDate" sfwType="Column" sfwValue="created_date" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="True" sfwIsIdentity="False" sfwDataType="DateTime" sfwRequired="False" />
    <attribute ID="ModifiedBy" sfwType="Column" sfwValue="modified_by" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="True" sfwIsIdentity="False" sfwDataType="string" sfwLength="50" sfwRequired="False" />
    <attribute ID="ModifiedDate" sfwType="Column" sfwValue="modified_date" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="True" sfwIsIdentity="False" sfwDataType="DateTime" sfwRequired="False" />
    <attribute ID="UpdateSeq" sfwType="Column" sfwValue="update_seq" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="True" sfwIsIdentity="False" sfwDataType="int" sfwRequired="False" />
  </attributes>
</entity>