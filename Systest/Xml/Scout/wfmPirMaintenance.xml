<form ID="wfmPirMaintenance" sfwActive="True" sfwStatus="Review" sfwRemoteObject="srvScout" sfwResource="801" sfwType="Maintenance" sfwTitle="Problem Record Maintenance" version="3.5" sfwEntity="entPir">
  <initialload>
    <callmethods sfwMode="New" sfwMethodName="NewPir" />
    <callmethods sfwMode="Update" sfwMethodName="FindPir" />
  </initialload>
  <sfwTable ID="Main">
    <sfwRow>
      <sfwColumn>
        <sfwPanel ID="pnltoolbar">
          <sfwTable CellPadding="3" ID="toolbar">
            <sfwRow>
              <sfwColumn>
                <sfwButton ID="btnSave" sfwMethodName="btnSave_Click" sfwNavigationParameter="aintPirId=PirId" Text="Save" />
                <sfwButton ID="btnSaveNew" sfwMethodName="btnSaveNew_Click" Text="Save New" />
                <sfwButton ID="btnPrev" sfwMethodName="btnPrev_Click" Text="Prev" />
                <sfwButton ID="btnNext" sfwMethodName="btnNext_Click" Text="Next" />
                <sfwButton ID="btnCancel" sfwMethodName="btnCancel_Click" Text="Refresh" />
              </sfwColumn>
            </sfwRow>
          </sfwTable>
        </sfwPanel>
      </sfwColumn>
    </sfwRow>
    <sfwRow>
      <sfwColumn>
        <sfwPanel ID="pnlMain" sfwCaption="Requirement Details">
          <sfwTable CssClass="Table" ID="tblMain">
            <sfwRow>
              <sfwColumn>
                <sfwLabel ID="capProblemID" Text="Problem ID :" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwLabel ID="lblPirId" sfwEntityField="PirId" />
              </sfwColumn>
              <sfwColumn>
                <sfwLabel ID="capReleaseInfo" Text=" Release Info :" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwTextBox ID="txtReleaseInfo" sfwEntityField="ReleaseInfo" />
              </sfwColumn>
            </sfwRow>
            <sfwRow>
              <sfwColumn>
                <sfwLabel ID="capDescription" Text="Description :" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn ColumnSpan="3">
                <sfwTextBox ID="txtPirDescription" Width="600px" sfwEntityField="PirDescription" />
              </sfwColumn>
              <sfwColumn />
              <sfwColumn />
            </sfwRow>
            <sfwRow>
              <sfwColumn>
                <sfwLabel ID="capAssignedTo" Text=" Assigned To :" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwDropDownList DataTextField="full_name" DataValueField="user_serial_id" ID="ddlAssignedTo" sfwLoadType="Query" sfwLoadSource="entPir.ListOfPirFixers" sfwEntityField="AssignedToId" />
              </sfwColumn>
              <sfwColumn>
                <sfwLabel ID="capReportedBy" Text=" Reported By :" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwDropDownList DataTextField="full_name" DataValueField="user_serial_id" ID="ddlOwner" sfwLoadType="Query" sfwLoadSource="entPir.ListOfPirReporters" sfwEntityField="ReportedById" />
              </sfwColumn>
            </sfwRow>
            <sfwRow>
              <sfwColumn>
                <sfwLabel ID="capPriority" Text="Priority :" sfwIsCaption="True" Visible="False" />
                <sfwLabel ID="capCreatedBy" Text="Created By :" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwDropDownList ID="ddlPriorityValue" sfwLoadType="CodeGroup" sfwLoadSource="41" sfwEntityField="PriorityValue" Visible="False" />
                <sfwLabel ID="lblCreatedByUserFullName" sfwEntityField="lstrCreateByUserFullName" />
              </sfwColumn>
              <sfwColumn>
                <sfwLabel ID="capSeverity" Text=" Severity :" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwDropDownList ID="ddlSeverityValue" sfwLoadType="CodeGroup" sfwLoadSource="42" sfwEntityField="SeverityValue" />
              </sfwColumn>
            </sfwRow>
            <sfwRow>
              <sfwColumn>
                <sfwLabel ID="capReferent_ID" Text=" Referent :" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwDropDownList DataTextField="full_name" DataValueField="user_serial_id" ID="ddlReferent" sfwLoadType="Query" sfwLoadSource="entPir.ListOfPirReporters" sfwEntityField="ReferentId" />
              </sfwColumn>
              <sfwColumn />
              <sfwColumn />
              <sfwColumn />
              <sfwColumn />
            </sfwRow>
            <sfwRow>
              <sfwColumn>
                <sfwLabel ID="capPIRType" Text="PIR Type:" sfwResource="2034" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwDropDownList ID="ddlPIRTypeValue" sfwResource="2034" sfwDefaultValue="DFCT" sfwLoadType="CodeGroup" sfwLoadSource="6010" sfwEntityField="PirTypeValue" />
              </sfwColumn>
              <sfwColumn>
                <sfwLabel ID="capStatusDescription" Text="Status : " sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwDropDownList ID="lblStatusDescription" sfwLoadType="CodeGroup" sfwLoadSource="40" sfwEntityField="StatusValue" />
              </sfwColumn>
            </sfwRow>
            <sfwRow>
              <sfwColumn>
                <sfwLabel ID="capScreenAffected" Text=" Screen Affected :" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwDropDownList DataTextField="istrScreenName" DataValueField="istrScreenName" ID="ddlScreenAffected" sfwLoadType="Method" sfwLoadSource="GetScreens" sfwEntityField="ScreenAffected" />
              </sfwColumn>
              <sfwColumn>
                <sfwLabel ID="capTestcase" Text="Testcase :" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn ColumnSpan="3">
                <sfwDropDownList DataTextField="testcase_desc" DataValueField="testcase_id" ID="ddlTestcaseFlow" sfwLoadType="Query" sfwLoadSource="entTestcase.ListOfTC" sfwEntityField="TestcaseScenario" />
              </sfwColumn>
              <sfwColumn />
              <sfwColumn />
            </sfwRow>
            <sfwRow>
              <sfwColumn>
                <sfwLabel ID="capCriticalPirPriority" sfwResource="2034" Text="Critical Pir Priority : " sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwTextBox ID="txtCriticalPirPriority" sfwResource="2034" sfwEntityField="CriticalPirPriority" />
              </sfwColumn>
              <sfwColumn>
                <sfwLabel ID="capPriorityDate" Text="Priority Date : " sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwTextBox ID="txtIstrPriorityDate" sfwDataFormat="{0:MM/YYYY}" sfwEntityField="IstrPriorityDate" />
              </sfwColumn>
            </sfwRow>
            <sfwRow>
              <sfwColumn>
                <sfwLabel ID="capAdditionalNotes" Text="Additional Notes :" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn ColumnSpan="3">
                <sfwTextBox ID="txtAdditionalNotes" Rows="5" TextMode="MultiLine" Width="400px" sfwEntityField="AdditionalNotes" />
              </sfwColumn>
              <sfwColumn />
              <sfwColumn />
            </sfwRow>
            <sfwRow>
              <sfwColumn>
                <sfwLabel ID="capUpdateDocFlag" Text="Update Documentation : " sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwCheckBox ID="chkUpdateDocFlag" sfwEntityField="UpdateDocFlag" />
              </sfwColumn>
              <sfwColumn />
              <sfwColumn />
            </sfwRow>
            <sfwRow>
              <sfwColumn />
              <sfwColumn />
              <sfwColumn />
              <sfwColumn />
            </sfwRow>
          </sfwTable>
        </sfwPanel>
      </sfwColumn>
    </sfwRow>
    <sfwRow>
      <sfwColumn>
        <sfwPanel ID="pnlDetailsTab" sfwCaption="Other Details">
          <sfwTable ID="tblDetailsTab">
            <sfwRow>
              <sfwColumn>
                <sfwTabContainer ID="tctDetailsTab">
                  <Tabs>
                    <sfwTabSheet HeaderText="History" ID="tshDetails">
                      <sfwTable ID="tblDetails">
                        <sfwRow>
                          <sfwColumn>
                            <sfwGridView AllowPaging="True" AllowSorting="True" PageSize="50" sfwEntityField="lstPirHistory" sfwGridEntity="entPirHistory" ID="grvPirHistory">
                              <Columns>
                                <TemplateField HeaderText="Description">
                                  <ItemTemplate>
                                    <sfwLabel sfwWrap="True" sfwEntityField="LongDescription" CssClass="wrap-comment" />
                                  </ItemTemplate>
                                </TemplateField>
                                <TemplateField HeaderText="Status">
                                  <ItemTemplate>
                                    <sfwLabel sfwEntityField="StatusDescription" CssClass="noWrap" />
                                  </ItemTemplate>
                                </TemplateField>
                                <TemplateField HeaderText="User ID">
                                  <ItemTemplate>
                                    <sfwLabel sfwEntityField="objAssignedTo.UserId" />
                                  </ItemTemplate>
                                </TemplateField>
                                <TemplateField HeaderText="By">
                                  <ItemTemplate>
                                    <sfwLabel sfwEntityField="ModifiedBy" />
                                  </ItemTemplate>
                                </TemplateField>
                                <TemplateField HeaderText="Date">
                                  <ItemTemplate>
                                    <sfwLabel sfwDataFormat="{0:d}" sfwEntityField="ModifiedDate" />
                                  </ItemTemplate>
                                </TemplateField>
                              </Columns>
                            </sfwGridView>
                          </sfwColumn>
                        </sfwRow>
                      </sfwTable>
                    </sfwTabSheet>
                    <sfwTabSheet HeaderText="Upload Files" ID="tshUploadFiles">
                      <sfwLabel Text="Files can be uploaded in Update mode only." sfwIsCaption="True" ID="lblUploadFile" />
                      <sfwTable ID="tblUploadFiles" sfwMode="Update">
                        <sfwRow>
                          <sfwColumn>
                            <sfwLabel ID="lblSelectFile" Text="Select File :" sfwIsCaption="True" />
                          </sfwColumn>
                          <sfwColumn>
                            <sfwFileUpload ID="files" UploadClick="UploadDocument(e)" AllowMultiple="True" SelectButtonText="Select Files" UploadButtonText="Upload Files" SaveActionUrl="/home/SubmitFile" sfwMaxFileSize="104857600" KeepUploadedFiles="True" />
                          </sfwColumn>
                          <sfwColumn>
                            <sfwButton ID="btnUpload" sfwMethodName="btnUploadFile_Click" sfwMode="Update" sfwTriggerPostBack="True" Text="Upload" ToolTip="Upload selected file" CssClass="hideControl" Visible="False" />
                          </sfwColumn>
                        </sfwRow>
                      </sfwTable>
                    </sfwTabSheet>
                  </Tabs>
                </sfwTabContainer>
              </sfwColumn>
            </sfwRow>
          </sfwTable>
        </sfwPanel>
      </sfwColumn>
    </sfwRow>
    <sfwRow>
      <sfwColumn>
        <sfwPanel ID="pnlListUploadedFiles" sfwCaption="Attachments">
          <sfwTable CssClass="Table" ID="tblListUploadedFiles">
            <sfwRow>
              <sfwColumn ColumnSpan="4" style="text-align: left !important;">
                <sfwLabel ID="ltrListOfUploadedFiles" Text="List of Uploaded Files" sfwMode="Update" sfwVisibleRule="Rule to display attahment Label" />
              </sfwColumn>
            </sfwRow>
            <sfwRow>
              <sfwColumn>
                <sfwGridView AllowPaging="True" AllowSorting="True" sfwEntityField="lstPIRAttachment" sfwGridEntity="entPIRAttachment" ID="grvPirAttachment" CssClass="Noborder" PageSize="25">
                  <Columns>
                    <TemplateField HeaderText="Name">
                      <ItemTemplate>
                        <sfwLabel ID="lblLabelAttachment" sfwEntityField="lstrAttachmentName" sfwLinkable="True" sfwRelatedControl="btnDownload" />
                        <sfwLabel ID="lblLabelClose" sfwLinkable="True" sfwRelatedControl="btnExecuteRefreshFromObject" CssClass="DeleteImageForPIR" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="Date Modified">
                      <ItemTemplate>
                        <sfwLabel ID="lblAttchmentLastModifiedDate" sfwEntityField="ldtmAttchmentLastModifiedDate" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="Type">
                      <ItemTemplate>
                        <sfwLabel ID="lblAttchmentType" sfwEntityField="lstrAttachmentType" />
                      </ItemTemplate>
                    </TemplateField>
                    <TemplateField HeaderText="Size" ItemStyle.HorizontalAlign="Right">
                      <ItemTemplate>
                        <sfwLabel ID="lblAttchmentSize" sfwEntityField="ldblAttchmentSize" sfwDataFormat="{0:d}" />
                        <sfwLabel ID="capAttachementSize" Text="KB" />
                      </ItemTemplate>
                    </TemplateField>
                  </Columns>
                </sfwGridView>
              </sfwColumn>
              <sfwColumn>
                <sfwButton sfwMethodName="btnDownload_Click" Text="Download" ID="btnDownload" sfwObjectMethod="DownloadPIRAttachmentSrvScout" sfwExecuteMethodType="ObjectMethod" sfwNavigationParameter="aintPirId=PirId;astrFilePath=lstrAttachmentName" sfwMode="Update" sfwRelatedControl="grvPirAttachment" CssClass="hideControl" />
              </sfwColumn>
              <sfwColumn>
                <sfwButton sfwMethodName="btnValidateExecuteBusinessMethod_Click" Text="Execute Refresh From Object" ID="btnExecuteRefreshFromObject" sfwExecuteMethodType="ObjectMethod" OnClientClick="DeletePIRAttachments()" CssClass="hideControl" />
              </sfwColumn>
              <sfwColumn />
            </sfwRow>
          </sfwTable>
        </sfwPanel>
      </sfwColumn>
    </sfwRow>
    <sfwRow>
      <sfwColumn>
        <sfwPanel ID="pnlAuditInfo" sfwCaption="Audit Information">
          <sfwTable CssClass="Table" ID="tblAuditInfo">
            <sfwRow>
              <sfwColumn>
                <sfwLabel ID="capCreate" Text="Create :" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwLabel ID="lblCreatedBy" sfwEntityField="CreatedBy" />
                <sfwLabel ID="lblUpdateSeq" sfwTwoWayBinding="True" Visible="False" sfwEntityField="UpdateSeq" />
              </sfwColumn>
              <sfwColumn>
                <sfwLabel ID="lblCreatedDate" sfwEntityField="CreatedDate" sfwDataFormat="{0:G}" />
              </sfwColumn>
              <sfwColumn>
                <sfwLabel ID="capModify" Text="Modify :" sfwIsCaption="True" />
              </sfwColumn>
              <sfwColumn>
                <sfwLabel ID="lblModifiedBy" sfwEntityField="ModifiedBy" />
              </sfwColumn>
              <sfwColumn>
                <sfwLabel ID="lblModifiedDate" sfwEntityField="ModifiedDate" sfwDataFormat="{0:G}" />
              </sfwColumn>
            </sfwRow>
          </sfwTable>
        </sfwPanel>
      </sfwColumn>
    </sfwRow>
  </sfwTable>
  <loaddetails>
    <entityfield ID="lstPirHistory" sfwNewAutoLoad="False" sfwUpdateAutoLoad="False" />
    <entityfield ID="lstPIRAttachment" sfwNewAutoLoad="False" sfwUpdateAutoLoad="False" />
  </loaddetails>
</form>