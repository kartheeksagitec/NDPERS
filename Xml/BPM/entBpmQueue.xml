<entity ID="entBpmQueue" sfwMainCDO="icdoBpmQueue" sfwType="BusinessRule" sfwActive="True" sfwStatus="Review" sfwObjectID="busBpmQueue" sfwTableName="sgw_bpm_queue" sfwView="False" sfwDataObjectID="doBpmQueue">
  <queries>
    <query ID="LookUp" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="select * from sgw_bpm_queue " sfwPostgre="select * from sgw_bpm_queue">
      <parameters />
    </query>
    <query ID="GetStuckInstancesforAutoResume" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="SELECT TOP 5 bq.*&#xD;&#xA;&#x9;,bci.CASE_INSTANCE_ID&#xD;&#xA;&#x9;,bci.STATUS_VALUE&#xD;&#xA;&#x9;,ba.ACTIVITY_TYPE_VALUE&#xD;&#xA;&#x9;,bai.ACTIVITY_INSTANCE_ID&#xD;&#xA;&#x9;,bai.INITIATOR_INSTANCE_ID&#xD;&#xA;&#x9;,ba.ACTIVITY_ID&#xD;&#xA;&#x9;,bai.modified_date 'ACTIVITY_INSTANCE_MODIFIED_DATE'&#xD;&#xA;&#x9;,bai.process_instance_id&#xD;&#xA;&#x9;,bai.STATUS_VALUE 'ACTIVITY_INSTANCE_STATUS'&#xD;&#xA;FROM SGW_BPM_QUEUE(NOLOCK) bq&#xD;&#xA;LEFT JOIN SGW_BPM_ACTIVITY_INSTANCE(NOLOCK) bai ON bq.SRC_PRCS_INST_ID = bai.PROCESS_INSTANCE_ID&#xD;&#xA;&#x9;AND (&#xD;&#xA;&#x9;&#x9;bq.ACTV_INST_ID_TO_EXEC IS NULL&#xD;&#xA;&#x9;&#x9;OR bq.ACTV_INST_ID_TO_EXEC = bai.INITIATOR_INSTANCE_ID&#xD;&#xA;&#x9;&#x9;)&#xD;&#xA;&#x9;AND bq.TRG_ACTV_ID_TO_INST = bai.ACTIVITY_ID&#xD;&#xA;LEFT JOIN SGW_BPM_PROCESS_INSTANCE(NOLOCK) bpi ON bpi.PROCESS_INSTANCE_ID = bq.SRC_PRCS_INST_ID&#xD;&#xA;LEFT JOIN SGW_BPM_CASE_INSTANCE(NOLOCK) bci ON bci.CASE_INSTANCE_ID = bpi.CASE_INSTANCE_ID&#xD;&#xA;LEFT JOIN SGW_BPM_ACTIVITY(NOLOCK) ba ON ba.ACTIVITY_ID = bq.TRG_ACTV_ID_TO_INST&#xD;&#xA;LEFT JOIN SGW_BPM_PROCESS(NOLOCK) bp ON bp.PROCESS_ID = bpi.PROCESS_ID&#xD;&#xA;WHERE bci.STATUS_VALUE = 'INPC' and bq.status_value &lt;&gt; 'UNPC'&#xD;&#xA;&#x9;AND (&#xD;&#xA;&#x9;&#x9;bai.activity_instance_id IS NULL&#xD;&#xA;&#x9;&#x9;OR (&#xD;&#xA;&#x9;&#x9;&#x9;bai.STATUS_VALUE &lt;&gt; 'INPC'&#xD;&#xA;&#x9;&#x9;&#x9;OR (&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;bai.STATUS_VALUE = 'INPC'&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;AND ba.activity_type_value NOT IN (&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;'SRTK'&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;,'RUTK'&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;)&#xD;&#xA;&#x9;&#x9;&#x9;)&#xD;&#xA;&#x9;&#x9;)">
      <parameters />
    </query>
    <query ID="GetActivityInstanceToResumeStuckInstance" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="SELECT AI.MODIFIED_DATE&#xD;&#xA;&#x9;,AI.STATUS_VALUE&#xD;&#xA;&#x9;,AI.INITIATOR_INSTANCE_ID&#xD;&#xA;&#x9;,A.ACTIVITY_ID&#xD;&#xA;&#x9;,A.ACTIVITY_TYPE_VALUE&#xD;&#xA;&#x9;,CI.CASE_INSTANCE_ID&#xD;&#xA;&#x9;,CI.REQUEST_ID&#xD;&#xA;FROM SGW_BPM_ACTIVITY_INSTANCE AI WITH (NOLOCK)&#xD;&#xA;INNER JOIN SGW_BPM_ACTIVITY A WITH (NOLOCK) ON AI.ACTIVITY_ID = A.ACTIVITY_ID&#xD;&#xA;INNER JOIN SGW_BPM_PROCESS_INSTANCE PI WITH (NOLOCK) ON AI.PROCESS_INSTANCE_ID = PI.PROCESS_INSTANCE_ID&#xD;&#xA;INNER JOIN SGW_BPM_CASE_INSTANCE CI WITH (NOLOCK) ON PI.CASE_INSTANCE_ID = CI.CASE_INSTANCE_ID&#xD;&#xA;WHERE ACTIVITY_INSTANCE_ID = @ACTIVITY_INSTANCE_ID">
      <parameters>
        <parameter ID="@ACTIVITY_INSTANCE_ID" sfwDataType="int" />
      </parameters>
    </query>
  </queries>
  <commonproperties />
  <checklist />
  <initialload />
  <delete />
  <validatedelete />
  <softerror />
  <groupslist />
  <harderror />
  <constraint />
  <rules />
  <ExtraFields />
  <methods />
  <lifecycle />
  <attributes>
    <attribute sfwValue="queue_item_id" sfwType="Column" sfwKeyNo="1" sfwIsIdentity="True" sfwDataType="int" sfwDBDataType="int" sfwIsNull="False" ID="QueueItemId" sfwCaption="ID" />
    <attribute sfwValue="machine_name" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="nvarchar" sfwDBDataType="nvarchar" sfwIsNull="True" ID="MachineName" sfwCaption="Machine Name" />
    <attribute sfwValue="priority_code_id" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="True" ID="PriorityCodeId" sfwCodeID="3008" sfwCaption="Priority Code" />
    <attribute sfwValue="priority_code_value" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwDBDataType="varchar" sfwLength="4" sfwIsNull="True" ID="PriorityCodeValue" sfwCaption="Priority Code" />
    <attribute sfwValue="engine_value" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwDBDataType="varchar" sfwLength="4" sfwIsNull="True" ID="EngineValue" sfwCaption="Engine Value" />
    <attribute sfwValue="src_prcs_inst_id" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="True" ID="SrcPrcsInstId" sfwCaption="Src Prcs Inst Id" />
    <attribute sfwValue="actv_inst_id_to_exec" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="True" ID="ActvInstIdToExec" sfwCaption="Actv Inst Id To Exec" />
    <attribute sfwValue="trg_prcs_inst_id" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="True" ID="TrgPrcsInstId" sfwCaption="Trg Prcs Inst Id" />
    <attribute sfwValue="trg_actv_id_to_inst" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="True" ID="TrgActvIdToInst" sfwCaption="Trg Actv Id To Inst" />
    <attribute sfwValue="status_id" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="True" ID="StatusId" sfwCodeID="12402" sfwCaption="Status" />
    <attribute sfwValue="status_value" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwDBDataType="varchar" sfwLength="4" sfwIsNull="True" ID="StatusValue" sfwCaption="Status" />
    <attribute sfwValue="queue_request_type_id" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="True" ID="QueueRequestTypeId" sfwCodeID="12401" sfwCaption="Queue Request Type" />
    <attribute sfwValue="queue_request_type_value" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwDBDataType="varchar" sfwLength="4" sfwIsNull="True" ID="QueueRequestTypeValue" sfwCaption="Queue Request Type" />
    <attribute sfwValue="created_by" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwDBDataType="varchar" sfwLength="50" sfwIsNull="False" ID="CreatedBy" sfwCaption="Created By" />
    <attribute sfwValue="created_date" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="datetime" sfwDBDataType="datetime" sfwIsNull="False" ID="CreatedDate" sfwCaption="Created Date" />
    <attribute sfwValue="modified_by" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwDBDataType="varchar" sfwLength="50" sfwIsNull="False" ID="ModifiedBy" sfwCaption="Modified By" />
    <attribute sfwValue="modified_date" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="datetime" sfwDBDataType="datetime" sfwIsNull="False" ID="ModifiedDate" sfwCaption="Modified Date" />
    <attribute sfwValue="update_seq" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="False" ID="UpdateSeq" sfwCaption="Update Seq" />
    <attribute sfwType="Description" ID="PriorityCodeDescription" sfwCaption="Priority Code" sfwValue="priority_code_description" />
    <attribute sfwType="Description" ID="StatusDescription" sfwCaption="Status" sfwValue="status_description" />
    <attribute sfwType="Description" ID="QueueRequestTypeDescription" sfwCaption="Queue Request Type" sfwValue="queue_request_type_description" />
  </attributes>
  <objectmethods />
</entity>