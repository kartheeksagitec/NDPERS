<?xml version="1.0" encoding="utf-8"?>
<entity ID="entMasPayeeAccountPapit" sfwActive="True" sfwStatus="Review" sfwType="BusinessRule" sfwMainCDO="icdoMasPayeeAccountPapit" sfwObjectID="busMasPayeeAccountPapit" sfwTableName="sgt_mas_payee_account_papit" sfwView="False">
  <rules />
  <delete />
  <checklist />
  <initialload />
  <softerror />
  <harderror />
  <validatedelete />
  <groupslist />
  <updateablecdo />
  <commonproperties />
  <queries>
    <query ID="LoadMASPapit" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="select  sum(case when e.item_type_direction=1 then amount else 0 end) as GROSS_AMOUNT,p.plan_name+ ' Retirement' as plan_name,&#xD;&#xA;b.person_id as PERSON_ID,&#xD;&#xA;c.PAYEE_ACCOUNT_ID as PAYEE_ACCOUNT_ID&#xD;&#xA; from SGT_MAS_PERSON a WITH(NOLOCK)&#xD;&#xA;  inner join SGT_MAS_SELECTION b WITH(NOLOCK)&#xD;&#xA;   on a.MAS_SELECTION_ID=b.MAS_SELECTION_ID&#xD;&#xA;  left join SGT_MAS_PAYEE_ACCOUNT c WITH(NOLOCK)&#xD;&#xA;   on a.MAS_PERSON_ID=c.MAS_PERSON_ID&#xD;&#xA;  left join SGT_MAS_PAYEE_ACCOUNT_PAPIT d WITH(NOLOCK)&#xD;&#xA;   on c.MAS_PAYEE_ACCOUNT_ID=d.MAS_PAYEE_ACCOUNT_ID &#xD;&#xA;  left join sgt_plan p WITH(NOLOCK)&#xD;&#xA;   on p.plan_id=c.plan_id&#xD;&#xA;  left JOIN SGT_PAYMENT_ITEM_TYPE e WITH(NOLOCK)&#xD;&#xA;   ON e.payment_item_type_id=d.payment_item_type_id&#xD;&#xA;where MAS_BATCH_REQUEST_ID=@batchrequestid &#xD;&#xA;group by p.plan_name,b.person_id,c.PAYEE_ACCOUNT_ID">
      <parameters>
        <parameter ID="@batchrequestid" sfwDataType="int" />
      </parameters>
    </query>
    <query ID="LoadMASPapitItems" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="select  0 as display_order,'Gross Amount' as payment_item,&#xD;&#xA;    1 as item_direction, &#xD;&#xA;    c.PLAN_ID,   &#xD;&#xA;    p.plan_name+ ' Retirement' as plan_name, b.person_id,&#xD;&#xA;    c.payee_account_id,    &#xD;&#xA;    sum(case when e.item_type_direction = 1 then amount else 0 end) as amount,&#xD;&#xA;     e.ITEM_TYPE_CODE&#xD;&#xA; from SGT_MAS_PERSON a WITH(NOLOCK)&#xD;&#xA;  inner join SGT_MAS_SELECTION b WITH(NOLOCK)&#xD;&#xA;   on a.MAS_SELECTION_ID=b.MAS_SELECTION_ID&#xD;&#xA;  left join SGT_MAS_PAYEE_ACCOUNT c WITH(NOLOCK)&#xD;&#xA;   on a.MAS_PERSON_ID=c.MAS_PERSON_ID&#xD;&#xA;  left join SGT_MAS_PAYEE_ACCOUNT_PAPIT d WITH(NOLOCK)&#xD;&#xA;   on c.MAS_PAYEE_ACCOUNT_ID=d.MAS_PAYEE_ACCOUNT_ID &#xD;&#xA;  left join sgt_plan p WITH(NOLOCK)&#xD;&#xA;   on p.plan_id=c.plan_id&#xD;&#xA;  left JOIN SGT_PAYMENT_ITEM_TYPE e WITH(NOLOCK)&#xD;&#xA;   ON e.payment_item_type_id=d.payment_item_type_id&#xD;&#xA;where MAS_BATCH_REQUEST_ID=@batchreqid&#xD;&#xA;group by p.plan_name,c.PLAN_ID,b.person_id,c.payee_account_id, e.ITEM_TYPE_CODE&#xD;&#xA;union all&#xD;&#xA;select  1000 as display_order,'Net Amount' as payment_item,&#xD;&#xA;    1 as item_direction, &#xD;&#xA;    c.PLAN_ID,   &#xD;&#xA;    p.plan_name+ ' Retirement Plan' as plan_name, b.person_id, &#xD;&#xA;    c.payee_account_id,   &#xD;&#xA;    sum(e.item_type_direction * amount) as amount,&#xD;&#xA;      e.ITEM_TYPE_CODE&#xD;&#xA; from SGT_MAS_PERSON a WITH(NOLOCK)&#xD;&#xA;  inner join SGT_MAS_SELECTION b WITH(NOLOCK)&#xD;&#xA;   on a.MAS_SELECTION_ID=b.MAS_SELECTION_ID&#xD;&#xA;  left join SGT_MAS_PAYEE_ACCOUNT c WITH(NOLOCK)&#xD;&#xA;   on a.MAS_PERSON_ID=c.MAS_PERSON_ID&#xD;&#xA;  left join SGT_MAS_PAYEE_ACCOUNT_PAPIT d WITH(NOLOCK)&#xD;&#xA;   on c.MAS_PAYEE_ACCOUNT_ID=d.MAS_PAYEE_ACCOUNT_ID &#xD;&#xA;  left join sgt_plan p WITH(NOLOCK)&#xD;&#xA;   on p.plan_id=c.plan_id&#xD;&#xA;  left JOIN SGT_PAYMENT_ITEM_TYPE e WITH(NOLOCK)&#xD;&#xA;   ON e.payment_item_type_id=d.payment_item_type_id&#xD;&#xA;where MAS_BATCH_REQUEST_ID=@batchreqid&#xD;&#xA;group by p.plan_name,c.PLAN_ID,b.person_id,c.payee_account_id,e.ITEM_TYPE_CODE&#xD;&#xA;&#xD;&#xA;union all&#xD;&#xA;&#xD;&#xA;Select   item_priority as display_order, payment_item,&#xD;&#xA;   item_direction,&#xD;&#xA;   PLAN_ID, &#xD;&#xA;   plan_name+ ' Retirement Plan' as plan_name, person_id,&#xD;&#xA;   payee_account_id,&#xD;&#xA;   amount,&#xD;&#xA;    pit.ITEM_TYPE_CODE as ITEM_TYPE_CODE&#xD;&#xA; from (select e.item_type_description as payment_item,&#xD;&#xA;    e.item_type_direction as item_direction, &#xD;&#xA;    c.PLAN_ID,   &#xD;&#xA;    p.plan_name,b.person_id as person_id,&#xD;&#xA;    c.payee_account_id,e.PAYMENT_ITEM_TYPE_ID,&#xD;&#xA;     E.ITEM_TYPE_CODE as ITEM_TYPE_CODE,&#xD;&#xA;    sum(amount) as amount    &#xD;&#xA; from SGT_MAS_PERSON a WITH(NOLOCK)&#xD;&#xA;  inner join SGT_MAS_SELECTION b WITH(NOLOCK)&#xD;&#xA;   on a.MAS_SELECTION_ID=b.MAS_SELECTION_ID&#xD;&#xA;  left join SGT_MAS_PAYEE_ACCOUNT c WITH(NOLOCK)&#xD;&#xA;   on a.MAS_PERSON_ID=c.MAS_PERSON_ID&#xD;&#xA;  left join SGT_MAS_PAYEE_ACCOUNT_PAPIT d WITH(NOLOCK)&#xD;&#xA;   on c.MAS_PAYEE_ACCOUNT_ID=d.MAS_PAYEE_ACCOUNT_ID &#xD;&#xA;  left join sgt_plan p WITH(NOLOCK)&#xD;&#xA;   on p.plan_id=c.plan_id&#xD;&#xA;  left JOIN SGT_PAYMENT_ITEM_TYPE e WITH(NOLOCK)&#xD;&#xA;   ON e.payment_item_type_id=d.payment_item_type_id&#xD;&#xA;where MAS_BATCH_REQUEST_ID=@batchreqid&#xD;&#xA;group by p.plan_name,c.PLAN_ID,b.person_id,e.item_type_description,c.payee_account_id, e.item_type_direction,e.PAYMENT_ITEM_TYPE_ID,e.ITEM_TYPE_CODE) temp&#xD;&#xA;inner join sgt_payment_item_type  pit WITH(NOLOCK) on temp.payment_item_type_id=pit.payment_item_type_id">
      <parameters>
        <parameter ID="@batchreqid" sfwDataType="int" />
      </parameters>
    </query>
    <query ID="LoadMASPapitBySelection" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="select  sum(case when e.item_type_direction=1 then amount else 0 end) as GROSS_AMOUNT,p.plan_name+ ' Retirement' as plan_name,&#xD;&#xA;b.person_id as PERSON_ID,&#xD;&#xA;c.PAYEE_ACCOUNT_ID as PAYEE_ACCOUNT_ID&#xD;&#xA; from SGT_MAS_PERSON a &#xD;&#xA;  inner join SGT_MAS_SELECTION b&#xD;&#xA;   on a.MAS_SELECTION_ID=b.MAS_SELECTION_ID&#xD;&#xA;  left join SGT_MAS_PAYEE_ACCOUNT c&#xD;&#xA;   on a.MAS_PERSON_ID=c.MAS_PERSON_ID&#xD;&#xA;  left join SGT_MAS_PAYEE_ACCOUNT_PAPIT d&#xD;&#xA;   on c.MAS_PAYEE_ACCOUNT_ID=d.MAS_PAYEE_ACCOUNT_ID &#xD;&#xA;  left join sgt_plan p &#xD;&#xA;   on p.plan_id=c.plan_id&#xD;&#xA;  left JOIN SGT_PAYMENT_ITEM_TYPE e&#xD;&#xA;   ON e.payment_item_type_id=d.payment_item_type_id&#xD;&#xA;where b.MAS_SELECTION_ID=@MAS_SELECTION_ID &#xD;&#xA;group by p.plan_name,b.person_id,c.PAYEE_ACCOUNT_ID">
      <parameters>
        <parameter ID="@MAS_SELECTION_ID" sfwDataType="int" />
      </parameters>
    </query>
    <query ID="LoadMASPapitItemsBySelection" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="select  0 as display_order,'Gross Amount' as payment_item,&#xD;&#xA;    1 as item_direction, &#xD;&#xA;    c.PLAN_ID,   &#xD;&#xA;    p.plan_name+ ' Retirement' as plan_name, b.person_id,&#xD;&#xA;    c.payee_account_id,    &#xD;&#xA;    sum(case when e.item_type_direction = 1 then amount else 0 end) as amount,&#xD;&#xA;    d.payment_item_type_id as payment_item_type_id,&#xD;&#xA;    e.ITEM_TYPE_CODE&#xD;&#xA; from SGT_MAS_PERSON a &#xD;&#xA;  inner join SGT_MAS_SELECTION b&#xD;&#xA;   on a.MAS_SELECTION_ID=b.MAS_SELECTION_ID&#xD;&#xA;  left join SGT_MAS_PAYEE_ACCOUNT c&#xD;&#xA;   on a.MAS_PERSON_ID=c.MAS_PERSON_ID&#xD;&#xA;  left join SGT_MAS_PAYEE_ACCOUNT_PAPIT d&#xD;&#xA;   on c.MAS_PAYEE_ACCOUNT_ID=d.MAS_PAYEE_ACCOUNT_ID &#xD;&#xA;  left join sgt_plan p &#xD;&#xA;   on p.plan_id=c.plan_id&#xD;&#xA;  left JOIN SGT_PAYMENT_ITEM_TYPE e&#xD;&#xA;   ON e.payment_item_type_id=d.payment_item_type_id&#xD;&#xA;where b.MAS_SELECTION_ID=@MAS_SELECTION_ID&#xD;&#xA;group by p.plan_name,c.PLAN_ID,b.person_id,c.payee_account_id,d.PAYMENT_ITEM_TYPE_ID,  e.ITEM_TYPE_CODE&#xD;&#xA;union all&#xD;&#xA;select  1000 as display_order,'Net Amount' as payment_item,&#xD;&#xA;    1 as item_direction,&#xD;&#xA;    c.PLAN_ID,    &#xD;&#xA;    p.plan_name+ ' Retirement' as plan_name, b.person_id, &#xD;&#xA;    c.payee_account_id,   &#xD;&#xA;    sum(e.item_type_direction * amount) as amount,&#xD;&#xA;      d.payment_item_type_id as payment_item_type_id,&#xD;&#xA;          e.ITEM_TYPE_CODE&#xD;&#xA; from SGT_MAS_PERSON a &#xD;&#xA;  inner join SGT_MAS_SELECTION b&#xD;&#xA;   on a.MAS_SELECTION_ID=b.MAS_SELECTION_ID&#xD;&#xA;  left join SGT_MAS_PAYEE_ACCOUNT c&#xD;&#xA;   on a.MAS_PERSON_ID=c.MAS_PERSON_ID&#xD;&#xA;  left join SGT_MAS_PAYEE_ACCOUNT_PAPIT d&#xD;&#xA;   on c.MAS_PAYEE_ACCOUNT_ID=d.MAS_PAYEE_ACCOUNT_ID &#xD;&#xA;  left join sgt_plan p &#xD;&#xA;   on p.plan_id=c.plan_id&#xD;&#xA;  left JOIN SGT_PAYMENT_ITEM_TYPE e&#xD;&#xA;   ON e.payment_item_type_id=d.payment_item_type_id&#xD;&#xA;where b.MAS_SELECTION_ID=@MAS_SELECTION_ID&#xD;&#xA;group by p.plan_name,c.PLAN_ID,b.person_id,c.payee_account_id,d.payment_item_type_id,e.ITEM_TYPE_CODE&#xD;&#xA;union all&#xD;&#xA;Select   item_priority as display_order, payment_item,&#xD;&#xA;   item_direction,&#xD;&#xA;   PLAN_ID,    &#xD;&#xA;   plan_name, person_id,&#xD;&#xA;   payee_account_id,&#xD;&#xA;    amount ,&#xD;&#xA;    pit.payment_item_type_id as payment_item_type_id,&#xD;&#xA;  pit.ITEM_TYPE_CODE as ITEM_TYPE_CODE&#xD;&#xA;  &#xD;&#xA; from (select e.item_type_description as payment_item,&#xD;&#xA;    e.item_type_direction as item_direction, &#xD;&#xA;    c.PLAN_ID,   &#xD;&#xA;    p.plan_name+ ' Retirement' as plan_name,b.person_id as person_id,&#xD;&#xA;    c.payee_account_id,e.PAYMENT_ITEM_TYPE_ID,&#xD;&#xA;        e.ITEM_TYPE_CODE,&#xD;&#xA;    sum(amount) as amount    &#xD;&#xA; from SGT_MAS_PERSON a &#xD;&#xA;  inner join SGT_MAS_SELECTION b&#xD;&#xA;   on a.MAS_SELECTION_ID=b.MAS_SELECTION_ID&#xD;&#xA;  left join SGT_MAS_PAYEE_ACCOUNT c&#xD;&#xA;   on a.MAS_PERSON_ID=c.MAS_PERSON_ID&#xD;&#xA;  left join SGT_MAS_PAYEE_ACCOUNT_PAPIT d&#xD;&#xA;   on c.MAS_PAYEE_ACCOUNT_ID=d.MAS_PAYEE_ACCOUNT_ID &#xD;&#xA;  left join sgt_plan p &#xD;&#xA;   on p.plan_id=c.plan_id&#xD;&#xA;  left JOIN SGT_PAYMENT_ITEM_TYPE e&#xD;&#xA;   ON e.payment_item_type_id=d.payment_item_type_id&#xD;&#xA;where b.MAS_SELECTION_ID=@MAS_SELECTION_ID&#xD;&#xA;group by p.plan_name,c.PLAN_ID, b.person_id,e.item_type_description,c.payee_account_id, e.item_type_direction,e.PAYMENT_ITEM_TYPE_ID,e.ITEM_TYPE_CODE) temp&#xD;&#xA;inner join sgt_payment_item_type pit on temp.payment_item_type_id=pit.payment_item_type_id">
      <parameters>
        <parameter ID="@MAS_SELECTION_ID" sfwDataType="int" />
      </parameters>
    </query>
  </queries>
  <attributes>
    <attribute ID="MasPayeeAccountPapitId" sfwType="Column" sfwValue="mas_payee_account_papit_id" sfwKeyNo="1" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="True" sfwDataType="int" sfwRequired="False" />
    <attribute ID="MasPayeeAccountId" sfwType="Column" sfwValue="mas_payee_account_id" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="int" sfwRequired="False" />
    <attribute ID="PaymentItemTypeId" sfwType="Column" sfwValue="payment_item_type_id" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="int" sfwRequired="False" />
    <attribute ID="Amount" sfwType="Column" sfwValue="amount" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="decimal" sfwRequired="False" sfwLength="13,2" />
    <attribute ID="CreatedBy" sfwType="Column" sfwValue="created_by" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="string" sfwRequired="False" sfwLength="50" />
    <attribute ID="CreatedDate" sfwType="Column" sfwValue="created_date" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="DateTime" sfwRequired="False" />
    <attribute ID="ModifiedBy" sfwType="Column" sfwValue="modified_by" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="string" sfwRequired="False" sfwLength="50" />
    <attribute ID="ModifiedDate" sfwType="Column" sfwValue="modified_date" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="DateTime" sfwRequired="False" />
    <attribute ID="UpdateSeq" sfwType="Column" sfwValue="update_seq" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="int" sfwRequired="False" />
  </attributes>
</entity>