<?xml version="1.0" encoding="utf-8"?>
<entity ID="entIbsDetail" sfwActive="True" sfwStatus="Valid" sfwType="BusinessRule" sfwMainCDO="icdoIbsDetail" sfwObjectID="busIbsDetail" sfwTableName="sgt_ibs_detail" sfwView="False" sfwParentEntity="entExtendBase">
  <rules>
    <rule ID="Delete Rule Posted Record" sfwMessageId="8563" sfwExpression="(RFunc.GetValue&lt;String&gt;(this, &quot;ibusIbsHeader.icdoIbsHeader.report_status_value&quot;) == &quot;PSTD&quot;)" sfwObjectBased="True" />
    <rule ID="Rule Check Life Premium Invalid" sfwMessageId="8552" sfwExpression="(this.iblnOnlineCreation == True) &amp;&amp; &#xA;(this.icdoIbsDetail.plan_id == 13) &amp;&amp; &#xA;(this.IsLifePremiumValid() == False)" sfwObjectBased="True" />
    <rule ID="Rule Group Number Null" sfwMessageId="8551" sfwExpression="(this.iblnOnlineCreation == True) &amp;&amp; &#xA;((this.icdoIbsDetail.plan_id == 12) || &#xA;(this.icdoIbsDetail.plan_id == 16) || &#xA;(this.icdoIbsDetail.plan_id == 17)) &amp;&amp; &#xA;(string.IsNullOrEmpty(this.icdoIbsDetail.group_number))" sfwObjectBased="True" />
    <rule ID="Rule Invalid AD Rate" sfwMessageId="8553" sfwExpression="(this.iblnOnlineCreation == True) &amp;&amp; &#xA;(this.icdoIbsDetail.plan_id == 13) &amp;&amp; &#xA;(this.IsADAndDRateEntered() == False)" sfwObjectBased="True" />
    <rule ID="Rule Invalid Basic Coverage" sfwMessageId="6558" sfwExpression="(this.iblnOnlineCreation == True) &amp;&amp; &#xA;(this.icdoIbsDetail.plan_id == 13) &amp;&amp; &#xA;(this.IsBasicCoverageAmountValid() == False)" sfwObjectBased="True" />
    <rule ID="Rule Invalid Dep Supp Coverage" sfwMessageId="6560" sfwExpression="(this.iblnOnlineCreation == True) &amp;&amp; &#xA;(this.icdoIbsDetail.plan_id == 13) &amp;&amp; &#xA;(this.IsDepSuppCoverageAmountValid() == False)" sfwObjectBased="True" />
    <rule ID="Rule Invalid Health Fee" sfwMessageId="8547" sfwExpression="(this.iblnOnlineCreation == True) &amp;&amp; &#xA;(this.icdoIbsDetail.plan_id == 12) &amp;&amp; &#xA;(this.icdoIbsDetail.group_health_fee_amt == 0)" sfwObjectBased="True" />
    <rule ID="Rule Invalid Life Basic Coverage" sfwMessageId="8549" sfwExpression="(this.iblnOnlineCreation == True) &amp;&amp; &#xA;(this.icdoIbsDetail.plan_id == 13) &amp;&amp; &#xA;(this.icdoIbsDetail.life_basic_coverage_amount == 0)" sfwObjectBased="True" />
    <rule ID="Rule Invalid Life Basic Premium" sfwMessageId="8548" sfwExpression="(this.iblnOnlineCreation == True) &amp;&amp; &#xA;(this.icdoIbsDetail.plan_id == 13) &amp;&amp; &#xA;(this.icdoIbsDetail.life_basic_premium_amount == 0)" sfwObjectBased="True" />
    <rule ID="Rule Invalid Member Premium" sfwMessageId="8544" sfwExpression="(this.iblnOnlineCreation == True) &amp;&amp; &#xA;(this.icdoIbsDetail.member_premium_amount == 0) &amp;&amp; &#xA;(this.icdoIbsDetail.rhic_amount == 0) &amp;&amp;&#xA;(this.icdoIbsDetail.plan_id != 9 )" sfwObjectBased="True" />
    <rule ID="Rule Invalid Provider Premium" sfwMessageId="8545" sfwExpression="(this.iblnOnlineCreation == True) &amp;&amp; &#xA;(this.icdoIbsDetail.provider_premium_amount == 0) &amp;&amp; &#xA;!(this.icdoIbsDetail.plan_id == 9)" sfwObjectBased="True" />
    <rule ID="Rule Invalid Spouse Supp Coverage" sfwMessageId="6561" sfwExpression="(this.iblnOnlineCreation == True) &amp;&amp; &#xA;(this.icdoIbsDetail.plan_id == 13) &amp;&amp; &#xA;(this.IsSpouseSuppCoverageAmountValid() == False)" sfwObjectBased="True" />
    <rule ID="Rule Invalid Supp Coverage" sfwMessageId="6559" sfwExpression="(this.iblnOnlineCreation == True) &amp;&amp; &#xA;(this.icdoIbsDetail.plan_id == 13) &amp;&amp; &#xA;(this.IsSuppCoverageAmountValid() == False)" sfwObjectBased="True" />
    <rule ID="Rule Invalid Total Premium" sfwMessageId="8546" sfwExpression="(this.iblnOnlineCreation == True) &amp;&amp; &#xA;(this.icdoIbsDetail.total_premium_amount == 0) &amp;&amp; &#xA;!(this.icdoIbsDetail.plan_id == 9)" sfwObjectBased="True" />
    <rule ID="Visbile Rule Dependent Info Panel" sfwExpression="(this.iblnIsCoverageNeedsToSplit == True) &amp;&amp; &#xA;(this.icdoIbsDetail.plan_id == 12) &amp;&amp; &#xA;(this.icdoIbsDetail.total_premium_amount &lt; 0)" sfwObjectBased="True" />
    <rule ID="Visible Rule Dental Panel" sfwExpression="(this.icdoIbsDetail.plan_id == 16)" sfwObjectBased="True" />
    <rule ID="Visible Rule GHDV Fields" sfwExpression="(this.iblnOnlineCreation == True) &amp;&amp; &#xA;((this.icdoIbsDetail.plan_id == 12) || &#xA;(this.icdoIbsDetail.plan_id == 16) || &#xA;(this.icdoIbsDetail.plan_id == 17))" sfwObjectBased="True" />
    <rule ID="Visible Rule Health Panel" sfwExpression="(this.icdoIbsDetail.plan_id == 12)" sfwObjectBased="True" />
    <rule ID="Visible Rule Life Panel" sfwExpression="(this.icdoIbsDetail.plan_id == 13)" sfwObjectBased="True" />
    <rule ID="Visible Rule LTC Panel" sfwExpression="(this.icdoIbsDetail.plan_id == 15)" sfwObjectBased="True" />
    <rule ID="Visible Rule Report Type is Adjustment" sfwExpression="(RFunc.GetValue&lt;String&gt;(this, &quot;ibusIbsHeader.icdoIbsHeader.report_type_value&quot;) == &quot;ADJ&quot;)" sfwObjectBased="True" />
    <rule ID="Visible Rule Report Type is Adjustment and Review" sfwExpression="((RFunc.GetValue&lt;String&gt;(this, &quot;ibusIbsHeader.icdoIbsHeader.report_type_value&quot;) == &quot;ADJ&quot;) &amp;&amp; &#xA;(RFunc.GetValue&lt;String&gt;(this, &quot;ibusIbsHeader.icdoIbsHeader.report_status_value&quot;) == &quot;REVW&quot;) &amp;&amp;&#xA;!(this.icdoIbsDetail.detail_status_value == &quot;IGNR&quot;))" sfwObjectBased="True" />
    <rule ID="Visible Rule Vision Panel" sfwExpression="(this.icdoIbsDetail.plan_id == 17)" sfwObjectBased="True" />
    <rule ID="Visible Rule Medicare Fields" sfwExpression="(this.icdoIbsDetail.plan_id == 9)" sfwObjectBased="True" />
    <rule ID="Visible Rule Other Than Medicare Fields" sfwExpression="!(this.icdoIbsDetail.plan_id == 9)" sfwObjectBased="True" />
    <rule ID="Visible Rule Report Type is Adjustment Medicare" sfwExpression="(RFunc.GetValue&lt;String&gt;(this, &quot;ibusIbsHeader.icdoIbsHeader.report_type_value&quot;) == &quot;ADJ&quot;) &amp;&amp; &#xA;!(this.icdoIbsDetail.plan_id == 9)" sfwObjectBased="True" />
    <rule ID="Visible Rule GHDV Fields Medicare" sfwExpression="(this.iblnOnlineCreation == True) &amp;&amp; &#xA;((this.icdoIbsDetail.plan_id == 12) || &#xA;(this.icdoIbsDetail.plan_id == 16) || &#xA;(this.icdoIbsDetail.plan_id == 17)) &amp;&amp; &#xA;!(this.icdoIbsDetail.plan_id == 9)" sfwObjectBased="True" />
    <rule ID="Visible Rule - Ignore Button Visibility" sfwRuleType="Validation" sfwExpression="((RFunc.GetValue&lt;String&gt;(this, &quot;ibusIbsHeader.icdoIbsHeader.report_type_value&quot;) == &quot;ADJ&quot;) &amp;&amp; &#xD;&#xA;(RFunc.GetValue&lt;String&gt;(this, &quot;ibusIbsHeader.icdoIbsHeader.report_status_value&quot;) == &quot;REVW&quot;) &amp;&amp;&#xD;&#xA;!(this.icdoIbsDetail.detail_status_value == &quot;IGNR&quot;))" sfwObjectBased="True" />
    <rule ID="Rule Premium For Field blank" sfwExpression="(this.icdoIbsDetail.plan_id == 9)&amp;&amp;&#xD;&#xA;(this.iblnOnlineCreation == True)&amp;&amp;&#xD;&#xA;(this.icdoIbsDetail.iintPremiumForPersonId == 0)" sfwMessageId="10281" sfwObjectBased="True" />
    <rule ID="Rule Enrolled In Medicare Effective Billing Date" sfwExpression="(this.icdoIbsDetail.plan_id == 9)&amp;&amp;&#xD;&#xA;(this.icdoIbsDetail.iintPremiumForPersonId != 0)&amp;&amp;&#xD;&#xA;(this.icdoIbsDetail.istrReportType==&quot;POS&quot;)&amp;&amp;&#xD;&#xA;(RFunc.ExecuteQuery&lt;Int32&gt;(&quot;entIbsDetail.LoadMedicareEffectiveBillingDate&quot;,this.icdoIbsDetail.iintPremiumForPersonId,this.icdoIbsDetail.billing_month_and_year) == 0 )" sfwMessageId="10282" sfwObjectBased="True" />
    <rule ID="Rule Negative Amt Greater Than Balance" sfwExpression="(this.icdoIbsDetail.plan_id == 9)&amp;&amp;&#xD;&#xA;(this.icdoIbsDetail.iintPremiumForPersonId != 0)&amp;&amp;&#xD;&#xA;(this.icdoIbsDetail.istrReportType==&quot;NEG&quot;)&amp;&amp;&#xD;&#xA;(RFunc.ExecuteQuery&lt;int&gt;(&quot;entIbsDetail.GetSumOfPremiumAmount&quot;,this.icdoIbsDetail.person_account_id,this.icdoIbsDetail.billing_month_and_year) &lt; this.icdoIbsDetail.member_premium_amount )" sfwMessageId="10283" sfwObjectBased="True" />
    <rule ID="VisibleRuleIsProviderOrgIdValid" sfwRuleType="Validation" sfwExpression="(this.IsProviderOrgIdValid() == false)" sfwMessageId="10292" sfwObjectBased="True" />
    <rule ID="VisibleRuleIsPlanGHDV" sfwRuleType="Validation" sfwExpression="((this.icdoIbsDetail.plan_id == 12) || &#xD;&#xA;(this.icdoIbsDetail.plan_id == 16) || &#xD;&#xA;(this.icdoIbsDetail.plan_id == 17))" sfwObjectBased="True" />
    <rule ID="VisibleRuleIsPlanDental/Vision" sfwRuleType="Validation" sfwExpression="((this.icdoIbsDetail.plan_id == 16) || &#xD;&#xA;(this.icdoIbsDetail.plan_id == 17))" sfwObjectBased="True" />
    <rule ID="VisibleRuleSAveButtonVisibility" sfwRuleType="Validation" sfwExpression="!((this.icdoIbsDetail.detail_status_value == &quot;IGNR&quot;) ||&#xD;&#xA;(this.icdoIbsDetail.detail_status_value == &quot;PSTD&quot;))&#xD;&#xA;" sfwObjectBased="True" />
    <rule ID="ISPlanHealth/Medicare" sfwRuleType="Validation" sfwExpression="((this.icdoIbsDetail.plan_id == 12) || (this.icdoIbsDetail.plan_id == 9))" sfwObjectBased="True" />
    <rule ID="IsPlanHMO" sfwRuleType="Validation" sfwExpression="(this.icdoIbsDetail.plan_id == 22)" sfwObjectBased="True" />
    <rule ID="Visible Rule - Replicate Button Visibility" sfwRuleType="Validation" sfwObjectBased="True" sfwExpression="!(this.icdoIbsDetail.ibs_detail_id == 0) &amp;&amp;&#xA;!((RFunc.GetValue&lt;String&gt;(this, &quot;ibusIbsHeader.icdoIbsHeader.report_status_value&quot;) == &quot;PSTD&quot;))" />
  </rules>
  <delete />
  <checklist />
  <initialload>
    <item ID="Visible Rule Report Type is Adjustment and Review" sfwMode="All" sfwStatus="Active" />
    <item ID="Visible Rule Health Panel" sfwMode="All" sfwStatus="Active" />
    <item ID="Visible Rule Dental Panel" sfwMode="All" sfwStatus="Active" />
    <item ID="Visible Rule Vision Panel" sfwMode="All" sfwStatus="Active" />
    <item ID="Visible Rule Life Panel" sfwMode="All" sfwStatus="Active" />
    <item ID="Visible Rule LTC Panel" sfwMode="All" sfwStatus="Active" />
    <item ID="Visible Rule GHDV Fields" sfwMode="All" sfwStatus="Active" />
    <item ID="Visbile Rule Dependent Info Panel" sfwMode="All" sfwStatus="Active" />
    <item ID="Visible Rule Report Type is Adjustment" sfwMode="All" sfwStatus="Active" />
    <item ID="Visible Rule Medicare Fields" sfwStatus="Active" sfwMode="All" />
    <item ID="Visible Rule Other Than Medicare Fields" sfwStatus="Active" sfwMode="All" />
    <item ID="Visible Rule Report Type is Adjustment Medicare" sfwStatus="Active" sfwMode="All" />
    <item ID="Visible Rule GHDV Fields Medicare" sfwStatus="Active" sfwMode="All" />
    <item ID="Visible Rule - Ignore Button Visibility" sfwStatus="Active" sfwMode="Update" />
    <item ID="VisibleRuleIsPlanGHDV" sfwStatus="Active" sfwMode="All" />
    <item ID="VisibleRuleIsPlanDental/Vision" sfwStatus="Active" sfwMode="All" />
    <item ID="VisibleRuleSAveButtonVisibility" sfwStatus="Active" sfwMode="All" />
    <item ID="ISPlanHealth/Medicare" sfwStatus="Active" sfwMode="All" />
    <item ID="IsPlanHMO" sfwStatus="Active" sfwMode="All" />
    <item ID="Visible Rule - Replicate Button Visibility" sfwMode="All" sfwStatus="Active" />
  </initialload>
  <softerror />
  <harderror>
    <item ID="Rule Invalid Member Premium" sfwMode="All" sfwStatus="Active" />
    <item ID="Rule Invalid Total Premium" sfwMode="All" sfwStatus="Active" />
    <item ID="Rule Invalid Provider Premium" sfwMode="All" sfwStatus="Active" />
    <item ID="Rule Invalid Health Fee" sfwMode="All" sfwStatus="Active" />
    <item ID="Rule Invalid Life Basic Premium" sfwMode="All" sfwStatus="Active" />
    <item ID="Rule Invalid Life Basic Coverage" sfwMode="All" sfwStatus="Active" />
    <item ID="Rule Group Number Null" sfwMode="All" sfwStatus="Active" />
    <item ID="Rule Check Life Premium Invalid" sfwMode="All" sfwStatus="Active" />
    <item ID="Rule Invalid AD Rate" sfwMode="All" sfwStatus="Active" />
    <item ID="Rule Invalid Basic Coverage" sfwMode="All" sfwStatus="Active" />
    <item ID="Rule Invalid Dep Supp Coverage" sfwMode="All" sfwStatus="Active" />
    <item ID="Rule Invalid Spouse Supp Coverage" sfwMode="All" sfwStatus="Active" />
    <item ID="Rule Invalid Supp Coverage" sfwMode="All" sfwStatus="Active" />
    <item ID="Rule Premium For Field blank" sfwStatus="Active" sfwMode="All" />
    <item ID="Rule Enrolled In Medicare Effective Billing Date" sfwStatus="Active" sfwMode="All" />
    <item ID="Rule Negative Amt Greater Than Balance" sfwStatus="Active" sfwMode="All" />
    <item ID="VisibleRuleIsProviderOrgIdValid" sfwStatus="Active" sfwMode="All" />
  </harderror>
  <validatedelete>
    <item ID="Delete Rule Posted Record" sfwMode="All" sfwStatus="Active" />
  </validatedelete>
  <groupslist />
  <updateablecdo />
  <commonproperties>
    <item ID="person_id" sfwObjectField="icdoIbsDetail.person_id" />
  </commonproperties>
  <expressionfields />
  <constraint />
  <queries>
    <query ID="Lookup" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="select A.*,IPS.balance_forward, &#xD;&#xA;PER.LAST_NAME + ', ' + per.FIRST_NAME as PersonMemberName,&#xD;&#xA;(select CONVERT(varchar(10),p.person_id) + ' ' + isnull(p.LAST_NAME,'') + ', '+ isnull(p.FIRST_NAME,'') + ' '+ isnull(p.MIDDLE_NAME,'') from sgt_person p&#xD;&#xA;INNER join SGT_PERSON_ACCOUNT pa on p.PERSON_ID = pa.PERSON_ID &#xD;&#xA;where pa.PERSON_ACCOUNT_ID = A.PERSON_ACCOUNT_ID ) as MemberPersonName,&#xD;&#xA;B.billing_month_and_year,&#xD;&#xA;P.plan_name,&#xD;&#xA;B.report_type_value header_report_type_value,&#xD;&#xA;org.ORG_CODE as istrProviderOrgCode,&#xD;&#xA;b.*&#xD;&#xA;from SGT_IBS_DETAIL A WITH(NOLOCK)&#xD;&#xA;LEFT JOIN SGT_IBS_PERSON_SUMMARY IPS WITH(NOLOCK) ON A.ibs_header_id = IPS.ibs_header_id&#xD;&#xA;AND A.person_id = IPS.person_id&#xD;&#xA;INNER JOIN SGT_PERSON PER WITH(NOLOCK) ON A.person_id = PER.person_id&#xD;&#xA;INNER JOIN SGT_PLAN P WITH(NOLOCK) ON A.plan_id = P.plan_id&#xD;&#xA;INNER JOIN SGT_IBS_HEADER B WITH(NOLOCK) ON A.ibs_header_id = B.ibs_header_id&#xD;&#xA;INNER JOIN sgt_organization org ON A.PROVIDER_ORG_ID = org.ORG_ID ">
      <parameters />
    </query>
    <query ID="JobServiceRHICReport" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="Select a.person_id PERSLinkID,a.first_name FirstName,a.last_name LastName,b.rhic_amount RHICAmount&#xD;&#xA;&#xD;&#xA;From sgt_person a,sgt_ibs_detail b&#xD;&#xA;&#xD;&#xA;Where a.person_id=b.person_id and ISNULL(b.DETAIL_STATUS_VALUE, '') &lt;&gt; 'IGNR'">
      <parameters />
    </query>
    <query ID="LoadACHIBSDetail" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="DECLARE @MAXIBSHEADERID INT&#xD;&#xA;SELECT TOP 1 @MAXIBSHEADERID = IBS_HEADER_ID FROM SGT_IBS_HEADER &#xD;&#xA;WHERE REPORT_TYPE_VALUE = 'REG' AND REPORT_STATUS_VALUE = 'PSTD'&#xD;&#xA;ORDER BY BILLING_MONTH_AND_YEAR DESC&#xD;&#xA;&#xD;&#xA;SELECT IBSD.*,ACH.BANK_ACCOUNT_NUMBER,ACH.BANK_ACCOUNT_TYPE_VALUE,IBSSUM.*,&#xD;&#xA;IBSSUM.BALANCE_FORWARD AS SUMM_BALANCE_FORWARD,BANKORG.*&#xD;&#xA;FROM SGT_IBS_DETAIL IBSD WITH(NOLOCK)&#xD;&#xA;INNER JOIN SGT_IBS_HEADER IBSH WITH(NOLOCK)&#xD;&#xA;ON IBSD.IBS_HEADER_ID = IBSH.IBS_HEADER_ID&#xD;&#xA;INNER JOIN SGT_PERSON_ACCOUNT_ACH_DETAIL ACH WITH(NOLOCK)&#xD;&#xA;ON IBSD.PERSON_ACCOUNT_ID = ACH.PERSON_ACCOUNT_ID AND ISNULL(PRE_NOTE_FLAG,'Y') = 'N'  AND ACH.ACH_START_DATE != ISNULL(ACH.ACH_END_DATE, '1753-01-01')&#xD;&#xA;INNER JOIN SGT_IBS_PERSON_SUMMARY IBSSUM WITH(NOLOCK)&#xD;&#xA;ON IBSSUM.IBS_HEADER_ID = IBSH.IBS_HEADER_ID AND IBSSUM.PERSON_ID = IBSD.PERSON_ID&#xD;&#xA;INNER JOIN SGT_ORGANIZATION BANKORG WITH(NOLOCK)&#xD;&#xA;ON ACH.BANK_ORG_ID = BANKORG.ORG_ID&#xD;&#xA;WHERE IBSD.MODE_OF_PAYMENT_VALUE = 'ACH' and ISNULL(IBSD.DETAIL_STATUS_VALUE, '') &lt;&gt; 'IGNR'&#xD;&#xA;and IBSH.REPORT_TYPE_VALUE = 'REG'&#xD;&#xA;AND IBSD.DEPOSIT_ID IS NULL &#xD;&#xA;AND IBSH.BILLING_MONTH_AND_YEAR BETWEEN ACH.ACH_START_DATE AND ISNULL(ACH.ACH_END_DATE,IBSH.BILLING_MONTH_AND_YEAR)&#xD;&#xA;AND IBSH.IBS_HEADER_ID = @MAXIBSHEADERID&#xD;&#xA;ORDER BY IBSD.PERSON_ID">
      <parameters />
    </query>
    <query ID="rptPullACHErrorReport" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="SELECT Distinct PER.PERSON_ID, PER.LAST_NAME +', '+PER.FIRST_NAME AS PERSON_NAME,&#xD;&#xA;  CASE WHEN ACH.PERSON_ACCOUNT_ACH_DETAIL_ID IS NULL THEN 'No ACH detail information available'&#xD;&#xA;    WHEN (ISNULL(PRE_NOTE_FLAG,'Y')) = 'Y' THEN 'ACH information is not yet pre-noted' END AS MESSAGE_DESC&#xD;&#xA;FROM SGT_IBS_DETAIL IBSD WITH(NOLOCK)&#xD;&#xA;INNER JOIN SGT_IBS_HEADER IBSH WITH(NOLOCK)&#xD;&#xA;ON IBSD.IBS_HEADER_ID = IBSH.IBS_HEADER_ID&#xD;&#xA;INNER JOIN SGT_PERSON PER WITH(NOLOCK)&#xD;&#xA;ON IBSD.PERSON_ID = PER.PERSON_ID&#xD;&#xA;LEFT OUTER JOIN SGT_PERSON_ACCOUNT_ACH_DETAIL ACH WITH(NOLOCK)&#xD;&#xA;ON IBSD.PERSON_ACCOUNT_ID = ACH.PERSON_ACCOUNT_ID&#xD;&#xA;WHERE IBSD.MODE_OF_PAYMENT_VALUE = 'ACH' AND ISNULL(IBSD.DETAIL_STATUS_VALUE, '') &lt;&gt; 'IGNR'&#xD;&#xA;AND IBSD.DEPOSIT_ID IS NULL &#xD;&#xA;AND IBSH.BILLING_MONTH_AND_YEAR BETWEEN ISNULL(ACH.ACH_START_DATE,IBSH.BILLING_MONTH_AND_YEAR) AND ISNULL(ACH.ACH_END_DATE,IBSH.BILLING_MONTH_AND_YEAR)&#xD;&#xA;AND (ISNULL(PRE_NOTE_FLAG,'Y') = 'Y' OR ACH.PERSON_ACCOUNT_ACH_DETAIL_ID IS NULL)&#xD;&#xA;ORDER BY PER.PERSON_ID">
      <parameters />
    </query>
    <query ID="GetAdjustmentPayments" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="DECLARE @MAXRUNDATE DATETIME&#xD;&#xA;SELECT @MAXRUNDATE = MAX(RUN_DATE) FROM SGT_IBS_HEADER WITH(NOLOCK) &#xD;&#xA;WHERE REPORT_TYPE_VALUE = 'REG' AND REPORT_STATUS_VALUE = 'PSTD'&#xD;&#xA;&#xD;&#xA;SELECT DETL.PERSON_ID,ISNULL(ADJUSTMENT_AMOUNT,0) AS idecTotalAdjustments&#xD;&#xA;FROM SGT_IBS_PERSON_SUMMARY DETL&#xD;&#xA;INNER JOIN SGT_IBS_HEADER HED&#xD;&#xA;ON DETL.IBS_HEADER_ID = HED.IBS_HEADER_ID&#xD;&#xA;WHERE DETL.PERSON_ID = @PERSONID AND &#xD;&#xA;HED.RUN_DATE = @MAXRUNDATE">
      <parameters>
        <parameter ID="@PERSONID" sfwDataType="int" />
      </parameters>
    </query>
    <query ID="GetTotalMedicarePremiumAmount" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql=" SELECT ISNULL(SUM(ISNULL(MEMBER_PREMIUM_AMOUNT,0)),0) as TotalMedicarePremium&#xD;&#xA;FROM SGT_IBS_DETAIL&#xD;&#xA;WHERE PERSON_ID = @PERSON_ID&#xD;&#xA;AND PLAN_ID = 9 AND ISNULL(DETAIL_STATUS_VALUE, '') &lt;&gt; 'IGNR'&#xD;&#xA;AND BILLING_MONTH_AND_YEAR = @BILLING_MONTH_AND_YEAR&#xD;&#xA;--AND MODE_OF_PAYMENT_VALUE = 'PNCH'">
      <parameters>
        <parameter ID="@PERSON_ID" sfwDataType="int" />
        <parameter ID="@BILLING_MONTH_AND_YEAR" sfwDataType="DateTime" />
      </parameters>
    </query>
    <query ID="UpdateIBSDetailStatus" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="UPDATE SGT_IBS_DETAIL&#xD;&#xA;SET DETAIL_STATUS_VALUE = @STATUSVALUE&#xD;&#xA;WHERE IBS_HEADER_ID = @IBSHEADERID&#xD;&#xA;AND ISNULL(DETAIL_STATUS_VALUE,'') &lt;&gt; 'IGNR'">
      <parameters>
        <parameter ID="@STATUSVALUE" sfwDataType="string" />
        <parameter ID="@IBSHEADERID" sfwDataType="int" />
      </parameters>
    </query>
    <query ID="LoadMedicareEffectiveBillingDate" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="SELECT COUNT(*) FROM SGT_PERSON_ACCOUNT_MEDICARE_PART_D_HISTORY &#xD;&#xA;WHERE PERSON_ID = @PERSONID&#xD;&#xA;AND @EFFECTIVEDATE BETWEEN START_DATE AND ISNULL(END_DATE,'12/30/9999')&#xD;&#xA;AND PLAN_PARTICIPATION_STATUS_VALUE = 'ENL2'">
      <parameters>
        <parameter ID="@PERSONID" sfwDataType="int" />
        <parameter ID="@EFFECTIVEDATE" sfwDataType="DateTime" />
      </parameters>
    </query>
    <query ID="GetSumOfPremiumAmount" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="select sum(MEMBER_PREMIUM_AMOUNT) from SGT_IBS_DETAIL &#xD;&#xA;where PERSON_ACCOUNT_ID = @personaccountid&#xD;&#xA;and BILLING_MONTH_AND_YEAR = @billingmonthandyear&#xD;&#xA;and DETAIL_STATUS_VALUE !='IGNR'&#xD;&#xA;group by BILLING_MONTH_AND_YEAR">
      <parameters>
        <parameter ID="@personaccountid" sfwDataType="int" />
        <parameter ID="@billingmonthandyear" sfwDataType="DateTime" />
      </parameters>
    </query>
    <query ID="IsProviderOrgIdValid" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="select * from SGT_ORG_PLAN OP&#xD;&#xA;inner join sgt_organization O&#xD;&#xA;on O.ORG_ID = OP.ORG_ID&#xD;&#xA;where O.ORG_TYPE_VALUE = 'PRVD'&#xD;&#xA;and OP.PLAN_ID = @Plan_Id&#xD;&#xA;and O.ORG_CODE = @Provider_Org_Code&#xD;&#xA;and @Billing_Month_And_Year &lt; ISNULL(OP.PARTICIPATION_END_DATE,'9999-12-31') AND @Billing_Month_And_Year &gt;= OP.PARTICIPATION_START_DATE">
      <parameters>
        <parameter ID="@Plan_Id" sfwDataType="int" />
        <parameter ID="@Provider_Org_Code" sfwDataType="string" />
        <parameter ID="@Billing_Month_And_Year" sfwDataType="DateTime" />
      </parameters>
    </query>
    <query ID="UpdateIBSDetailStatusToIgnore" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="UPDATE SGT_IBS_DETAIL&#xD;&#xA;SET DETAIL_STATUS_VALUE = 'IGNR'&#xD;&#xA;WHERE PERSON_ACCOUNT_ID = @PERSON_ACCOUNT_ID AND BILLING_MONTH_AND_YEAR = @BILLING_MONTH_AND_YEAR&#xD;&#xA;AND ISNULL(DETAIL_STATUS_VALUE,'') IN ('VALD', 'REVW') AND ISNULL(TOTAL_PREMIUM_AMOUNT, 0) &gt; 0">
      <parameters>
        <parameter ID="@PERSON_ACCOUNT_ID" sfwDataType="int" />
        <parameter ID="@BILLING_MONTH_AND_YEAR" sfwDataType="DateTime" />
      </parameters>
    </query>
    <query ID="UpdateAllIBSDetailStatusToIgnoreAfterPlanSusorCan" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="UPDATE SGT_IBS_DETAIL&#xD;&#xA;SET DETAIL_STATUS_VALUE = 'IGNR'&#xD;&#xA;WHERE PERSON_ACCOUNT_ID = @PERSON_ACCOUNT_ID AND BILLING_MONTH_AND_YEAR &gt;= @BILLING_MONTH_AND_YEAR&#xD;&#xA;AND ISNULL(DETAIL_STATUS_VALUE,'') IN ('VALD', 'REVW') AND ISNULL(TOTAL_PREMIUM_AMOUNT, 0) &gt; 0">
      <parameters>
        <parameter ID="@PERSON_ACCOUNT_ID" sfwDataType="int" />
        <parameter ID="@BILLING_MONTH_AND_YEAR" sfwDataType="DateTime" />
      </parameters>
    </query>
    <query ID="UpdateIBSDtlStatusToIgnoreByDtlID" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="UPDATE SGT_IBS_DETAIL&#xD;&#xA;SET DETAIL_STATUS_VALUE = 'IGNR'&#xD;&#xA;WHERE IBS_DETAIL_ID = @IBS_DETAIL_ID&#xD;&#xA;AND ISNULL(DETAIL_STATUS_VALUE,'') IN ('VALD', 'REVW')">
      <parameters>
        <parameter ID="@IBS_DETAIL_ID" sfwDataType="int" />
      </parameters>
    </query>
  </queries>
  <attributes>
    <attribute ID="IbsDetailId" sfwType="Column" sfwValue="ibs_detail_id" sfwIsNull="False" sfwKeyNo="1" sfwIsIdentity="True" sfwDataType="int" sfwIsSequence="False" />
    <attribute ID="IbsHeaderId" sfwType="Column" sfwValue="ibs_header_id" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwIsSequence="False" />
    <attribute ID="PersonId" sfwType="Column" sfwValue="person_id" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwIsSequence="False" />
    <attribute ID="PlanId" sfwType="Column" sfwValue="plan_id" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwIsSequence="False" />
    <attribute ID="BillingMonthAndYear" sfwType="Column" sfwValue="billing_month_and_year" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="DateTime" sfwIsSequence="False" />
    <attribute ID="ModeOfPaymentDescription" sfwType="Description" sfwValue="mode_of_payment_description" />
    <attribute ID="ModeOfPaymentId" sfwType="Column" sfwValue="mode_of_payment_id" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwCodeID="1703" sfwIsSequence="False" />
    <attribute ID="ModeOfPaymentValue" sfwType="Column" sfwValue="mode_of_payment_value" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwLength="4" sfwIsSequence="False" />
    <attribute ID="CoverageCode" sfwType="Column" sfwValue="coverage_code" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwLength="100" sfwIsSequence="False" />
    <attribute ID="MemberPremiumAmount" sfwType="Column" sfwValue="member_premium_amount" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="RhicAmount" sfwType="Column" sfwValue="rhic_amount" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="TotalPremiumAmount" sfwType="Column" sfwValue="total_premium_amount" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="BalanceForward" sfwType="Column" sfwValue="balance_forward" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="Comment" sfwType="Column" sfwValue="comment" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwLength="500" sfwIsSequence="False" />
    <attribute ID="GroupHealthFeeAmt" sfwType="Column" sfwValue="group_health_fee_amt" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="CreatedBy" sfwType="Column" sfwValue="created_by" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwLength="50" sfwIsSequence="False" />
    <attribute ID="CreatedDate" sfwType="Column" sfwValue="created_date" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="DateTime" sfwIsSequence="False" />
    <attribute ID="ModifiedBy" sfwType="Column" sfwValue="modified_by" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwLength="50" sfwIsSequence="False" />
    <attribute ID="ModifiedDate" sfwType="Column" sfwValue="modified_date" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="DateTime" sfwIsSequence="False" />
    <attribute ID="UpdateSeq" sfwType="Column" sfwValue="update_seq" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwIsSequence="False" />
    <attribute ID="PersonAccountId" sfwType="Column" sfwValue="person_account_id" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwIsSequence="False" />
    <attribute ID="DepositId" sfwType="Column" sfwValue="deposit_id" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwIsSequence="False" />
    <attribute ID="LifeBasicPremiumAmount" sfwType="Column" sfwValue="life_basic_premium_amount" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="LifeSuppPremiumAmount" sfwType="Column" sfwValue="life_supp_premium_amount" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="LifeSpouseSuppPremiumAmount" sfwType="Column" sfwValue="life_spouse_supp_premium_amount" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="LifeDepSuppPremiumAmount" sfwType="Column" sfwValue="life_dep_supp_premium_amount" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="OthrRhicAmount" sfwType="Column" sfwValue="othr_rhic_amount" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="JsRhicAmount" sfwType="Column" sfwValue="js_rhic_amount" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="LtcMemberThreeYrsPremiumAmount" sfwType="Column" sfwValue="ltc_member_three_yrs_premium_amount" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="LtcMemberFiveYrsPremiumAmount" sfwType="Column" sfwValue="ltc_member_five_yrs_premium_amount" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="LtcSpouseThreeYrsPremiumAmount" sfwType="Column" sfwValue="ltc_spouse_three_yrs_premium_amount" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="LtcSpouseFiveYrsPremiumAmount" sfwType="Column" sfwValue="ltc_spouse_five_yrs_premium_amount" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="ProviderPremiumAmount" sfwType="Column" sfwValue="provider_premium_amount" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="GroupNumber" sfwType="Column" sfwValue="group_number" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwLength="50" sfwIsSequence="False" />
    <attribute ID="PaymentElectionAdjustmentId" sfwType="Column" sfwValue="payment_election_adjustment_id" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwIsSequence="False" />
    <attribute ID="PaidPremiumAmount" sfwType="Column" sfwValue="paid_premium_amount" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="LifeBasicCoverageAmount" sfwType="Column" sfwValue="life_basic_coverage_amount" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="LifeSuppCoverageAmount" sfwType="Column" sfwValue="life_supp_coverage_amount" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="LifeSpouseSuppCoverageAmount" sfwType="Column" sfwValue="life_spouse_supp_coverage_amount" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="LifeDepSuppCoverageAmount" sfwType="Column" sfwValue="life_dep_supp_coverage_amount" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="AdAndDBasicPremiumRate" sfwType="Column" sfwValue="ad_and_d_basic_premium_rate" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,4" sfwIsSequence="False" />
    <attribute ID="AdAndDSupplementalPremiumRate" sfwType="Column" sfwValue="ad_and_d_supplemental_premium_rate" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,4" sfwIsSequence="False" />
    <attribute ID="ProviderOrgId" sfwType="Column" sfwValue="provider_org_id" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwIsSequence="False" />
    <attribute ID="RateStructureCode" sfwType="Column" sfwValue="rate_structure_code" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwLength="4" sfwIsSequence="False" />
    <attribute ID="CoverageCodeValue" sfwType="Column" sfwValue="coverage_code_value" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwLength="4" sfwIsSequence="False" />
    <attribute ID="BuydownAmount" sfwType="Column" sfwValue="buydown_amount" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" sfwIsSequence="False" />
    <attribute ID="MedicarePartDAmt" sfwType="Column" sfwValue="medicare_part_d_amt" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="7,2" />
    <attribute ID="RhicSent" sfwType="Column" sfwValue="rhic_sent" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwLength="1" sfwDefaultValue="N" />
    <attribute ID="DetailStatusDescription" sfwType="Description" sfwValue="detail_status_description" />
    <attribute ID="DetailStatusId" sfwType="Column" sfwValue="detail_status_id" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwCodeID="1210" />
    <attribute ID="DetailStatusValue" sfwType="Column" sfwValue="detail_status_value" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwLength="4" />
    <attribute ID="LisAmount" sfwType="Column" sfwValue="lis_amount" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="11,2" />
    <attribute ID="LepAmount" sfwType="Column" sfwValue="lep_amount" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="11,2" />
    <attribute ID="objPerson" sfwType="Object" sfwEntity="entPerson" sfwValue="ibusPerson" />
    <attribute ID="objIbsHeader" sfwType="Object" sfwEntity="entIbsHeader" sfwValue="ibusIbsHeader" />
    <attribute ID="objPlan" sfwType="Object" sfwEntity="entPlan" sfwValue="ibusPlan" />
    <attribute ID="objIbsPersonSummary" sfwType="Object" sfwEntity="entIbsPersonSummary" sfwValue="ibusIbsPersonSummary" />
    <attribute sfwDataType="string" sfwType="Property" ID="IstrProviderOrgCode" sfwValue="icdoIbsDetail.istrProviderOrgCode" />
    <attribute sfwDataType="string" sfwType="Property" ID="IstrPersonName" sfwValue="istrPersonName" />
    <attribute sfwDataType="int" sfwType="Property" ID="IintPremiumForPersonId" sfwValue="icdoIbsDetail.iintPremiumForPersonId" />
    <attribute sfwDataType="decimal" sfwType="Property" ID="IdecLowIncomeCredit" sfwValue="icdoIbsDetail.idecLow_Income_Credit" />
    <attribute sfwType="Collection" sfwEntity="entPersonAccountDependentBillingLink" ID="lstPADependentBillingLink" sfwValue="iclbPADependentBillingLink" />
    <attribute sfwType="Collection" sfwEntity="entPersonAccountDependent" ID="lstPADependent" sfwValue="iclbPADependent" />
    <attribute sfwType="Collection" sfwEntity="entPersonAccountGhdvHistory" ID="lstIBSLoadGHDVHistory" sfwValue="iclbIBSLoadGHDVHistory" />
    <attribute sfwType="Collection" sfwEntity="entPersonAccountLifeHistory" ID="lstIBSLoadLifeHistory" sfwValue="iclbIBSLoadLifeHistory" />
    <attribute sfwType="Collection" sfwEntity="entPersonAccountMedicarePartDHistory" ID="lstIBSLoadMedicarePartDHistory" sfwValue="iclbIBSLoadMedicarePartDHistory" />
    <attribute sfwDataType="string" sfwType="Property" ID="IstrReportType" sfwValue="icdoIbsDetail.istrReportType" />
    <attribute sfwDataType="string" sfwType="Property" ID="BillingMonthYearLongDateFormat" sfwValue="icdoIbsDetail.billing_month_year_long_date_format" />
    <attribute sfwDataType="decimal" sfwType="Property" ID="IdecChargedPremium" sfwValue="icdoIbsDetail.idecChargedPremium" />
    <attribute sfwDataType="decimal" sfwType="Property" ID="IdecCorrectPremium" sfwValue="icdoIbsDetail.idecCorrectPremium" />
  </attributes>
  <objectmethods>
    <method ID="btnIgnored_Clicked" sfwReturnType="Void" />
    <method ID="LoadLowIncomeCreditRef" sfwReturnType="Collection" sfwObjectID="cdoLowIncomeCreditRef" sfwEntity="entLowIncomeCreditRef" />
    <method ID="btnReplicate_Clicked" sfwReturnType="Object" sfwEntity="entIbsDetail">
      <parameters>
        <parameter ID="Aintibsdetailid" sfwDataType="int" />
      </parameters>
    </method>
  </objectmethods>
</entity>