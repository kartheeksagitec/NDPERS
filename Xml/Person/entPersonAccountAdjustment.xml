<?xml version="1.0" encoding="utf-8"?>
<entity ID="entPersonAccountAdjustment" sfwActive="True" sfwStatus="Review" sfwRemoteObject="srvPerson" sfwType="BusinessRule" sfwMainCDO="icdoPersonAccountAdjustment" sfwReadOnlyRule="StatusIsPosted" sfwObjectID="busPersonAccountAdjustment" sfwTableName="sgt_person_account_adjustment">
  <rules>
    <rule ID="CheckIfAnyPayeeAccountWithCompletedOrCancelledStatus" sfwMessageId="7656" sfwExpression="!(this.icdoPersonAccountAdjustment.istrSuppressWarning == &quot;Y&quot;) &amp;&amp; &#xA;(RFunc.EvaluateRule(&quot;ibusPersonAccount.CheckIfAnyPayeeAccountWithCompletedOrCancelledStatus&quot;, this))" sfwObjectBased="True" />
    <rule ID="IsCommentEmpty" sfwMessageId="7084" sfwExpression="(string.IsNullOrEmpty(this.icdoPersonAccountAdjustment.comment))" sfwObjectBased="True" />
    <rule ID="PostIsAllowed" sfwExpression="!(this.icdoPersonAccountAdjustment.status_value == &quot;POST&quot;) &amp;&amp; &#xA;!(this.icdoPersonAccountAdjustment.modified_by == RFunc.GetValue&lt;String&gt;(this, &quot;iobjPassInfo.istrUserID&quot;))" sfwObjectBased="True" />
    <rule ID="StatusIsNotPosted" sfwExpression="!(this.icdoPersonAccountAdjustment.status_value == &quot;POST&quot;)" sfwObjectBased="True" />
    <rule ID="StatusIsPosted" sfwMessageId="6634" sfwExpression="(this.icdoPersonAccountAdjustment.status_value == &quot;POST&quot;)" sfwObjectBased="True" />
  </rules>
  <delete>
    <property ID="lstRetirementAdjustmentContribution" sfwMethodName="LoadRetirementAdjustmentContribution" />
  </delete>
  <checklist />
  <initialload>
    <item ID="StatusIsNotPosted" sfwMode="All" sfwStatus="Active" />
    <item ID="StatusIsPosted" sfwMode="All" sfwStatus="Active" />
    <item ID="PostIsAllowed" sfwMode="All" sfwStatus="Active" />
  </initialload>
  <softerror />
  <harderror>
    <item ID="IsCommentEmpty" sfwMode="All" sfwStatus="Active" />
    <item ID="CheckIfAnyPayeeAccountWithCompletedOrCancelledStatus" sfwMode="All" sfwStatus="Active" />
  </harderror>
  <validatedelete>
    <item ID="StatusIsPosted" sfwMode="All" sfwStatus="Active" />
  </validatedelete>
  <updateablecdo />
  <queries>
    <query ID="GetRetOrDisFinalCalculations" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="SELECT * FROM SGT_BENEFIT_CALCULATION WITH(NOLOCK)&#xD;&#xA;WHERE BENEFIT_ACCOUNT_TYPE_VALUE IN ('RETR', 'DISA')&#xD;&#xA;AND (CALCULATION_TYPE_VALUE = 'FNAL' OR CALCULATION_TYPE_VALUE = 'SBST') AND ACTION_STATUS_VALUE != 'CANC'&#xD;&#xA;AND PERSON_ID = @PERSONID">
      <parameters>
        <parameter ID="@PERSONID" sfwDataType="int" />
      </parameters>
    </query>
    <query ID="GetRefundFinalCalculations" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql=" SELECT * FROM SGT_BENEFIT_CALCULATION WITH(NOLOCK)&#xD;&#xA;WHERE BENEFIT_ACCOUNT_TYPE_VALUE IN ('RFND')&#xD;&#xA;AND CALCULATION_TYPE_VALUE = 'FNAL' AND ACTION_STATUS_VALUE != 'CANC'&#xD;&#xA;AND PERSON_ID = @PERSONID">
      <parameters>
        <parameter ID="@PERSONID" sfwDataType="int" />
      </parameters>
    </query>
  </queries>
  <attributes>
    <attribute ID="PersonAccountAdjustmentId" sfwType="Column" sfwValue="person_account_adjustment_id" sfwIsNull="False" sfwKeyNo="1" sfwIsIdentity="True" sfwDataType="int" />
    <attribute ID="PersonAccountId" sfwType="Column" sfwValue="person_account_id" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" />
    <attribute ID="TransactionDate" sfwType="Column" sfwValue="transaction_date" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="DateTime" />
    <attribute ID="RhicBenfitAmount" sfwType="Column" sfwValue="rhic_benfit_amount" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" />
    <attribute ID="CapitalGain" sfwType="Column" sfwValue="capital_gain" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="decimal" sfwLength="13,2" />
    <attribute ID="Comment" sfwType="Column" sfwValue="comment" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwLength="2000" />
    <attribute ID="StatusDescription" sfwType="Description" sfwValue="status_description" />
    <attribute ID="StatusId" sfwType="Column" sfwValue="status_id" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwCodeID="352" />
    <attribute ID="StatusValue" sfwType="Column" sfwValue="status_value" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwLength="4" />
    <attribute ID="PostedBy" sfwType="Column" sfwValue="posted_by" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwLength="50" />
    <attribute ID="PostedDate" sfwType="Column" sfwValue="posted_date" sfwIsNull="True" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="DateTime" />
    <attribute ID="CreatedBy" sfwType="Column" sfwValue="created_by" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwLength="50" />
    <attribute ID="CreatedDate" sfwType="Column" sfwValue="created_date" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="DateTime" />
    <attribute ID="ModifiedBy" sfwType="Column" sfwValue="modified_by" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwLength="50" />
    <attribute ID="ModifiedDate" sfwType="Column" sfwValue="modified_date" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="DateTime" />
    <attribute ID="UpdateSeq" sfwType="Column" sfwValue="update_seq" sfwIsNull="False" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" />
    <attribute ID="objPersonAccount" sfwType="Object" sfwEntity="entPersonAccount" sfwValue="ibusPersonAccount" />
    <attribute sfwDataType="string" sfwType="Property" ID="IstrSuppressWarning" sfwValue="icdoPersonAccountAdjustment.istrSuppressWarning" />
    <attribute sfwType="Collection" sfwEntity="entPersonAccountRetirementAdjustmentContribution" ID="lstRetirementAdjustmentContribution" sfwValue="iclbRetirementAdjustmentContribution" />
  </attributes>
  <objectmethods>
    <method ID="btnPost_Click" sfwReturnType="ArrayList" />
    <method ID="LoadRetirementAdjustmentContribution" sfwReturnType="Void" />
  </objectmethods>
</entity>