<?xml version="1.0" encoding="utf-8"?>
<entity ID="entPersonAccountDeferredCompTransfer" sfwActive="True" sfwStatus="Valid" sfwType="BusinessRule" sfwErrorTable="sgt_person_account_deferred_comp_transfer_error" sfwParentKey="person_account_deferred_comp_transfer_id" sfwParentKeyValue="icdoPersonAccountDeferredCompTransfer.person_account_deferred_comp_transfer_id" sfwMainCDO="icdoPersonAccountDeferredCompTransfer" sfwStatusColumn="status_value" sfwReadOnlyRule="IsStatusPosted" sfwObjectID="busPersonAccountDeferredCompTransfer" sfwTableName="sgt_person_account_deferred_comp_transfer">
  <rules>
    <rule ID="IsFromMemberAndToMemberSame" sfwMessageId="7655" sfwExpression="!(this.icdoPersonAccountDeferredCompTransfer.iintTransferToPersonId == 0) &amp;&amp; &#xA;(this.icdoPersonAccountDeferredCompTransfer.from_person_account_id == this.icdoPersonAccountDeferredCompTransfer.to_person_account_id)" sfwObjectBased="True" />
    <rule ID="IsStatusNotPosted" sfwExpression="!(this.icdoPersonAccountDeferredCompTransfer.status_value == &quot;POST&quot;) &amp;&amp; &#xA;(this.icdoPersonAccountDeferredCompTransfer.created_by != &quot;iobjPassInfo.istrUserID&quot;)" sfwObjectBased="True" />
    <rule ID="IsStatusPosted" sfwMessageId="6634" sfwExpression="(this.icdoPersonAccountDeferredCompTransfer.status_value == &quot;POST&quot;)" sfwObjectBased="True" />
    <rule ID="IsTransferMemberEnrolledInFromMemberPlan" sfwMessageId="7653" sfwExpression="!(this.icdoPersonAccountDeferredCompTransfer.iintTransferToPersonId == 0) &amp;&amp; &#xA;(this.IsTransferMemberEnrolledInFromMemberPlan() == False)" sfwObjectBased="True" />
    <rule ID="IsTransferMemberIdNotEntered" sfwMessageId="7652" sfwExpression="(this.icdoPersonAccountDeferredCompTransfer.iintTransferToPersonId == 0)" sfwObjectBased="True" />
  </rules>
  <delete>
    <property ID="SoftErrors" sfwMethodName="LoadErrors" />
    <property ID="lstPersonAccountDefCompTransferDestinationContribution" sfwMethodName="LoadDestinationContributionDetails" />
  </delete>
  <checklist />
  <initialload>
    <item ID="IsStatusNotPosted" sfwMode="All" sfwStatus="Active" />
    <item ID="IsStatusPosted" sfwMode="All" sfwStatus="Active" />
  </initialload>
  <softerror />
  <harderror>
    <item ID="IsTransferMemberIdNotEntered" sfwMode="All" sfwStatus="Active" />
    <item ID="IsTransferMemberEnrolledInFromMemberPlan" sfwMode="All" sfwStatus="Active" />
    <item ID="IsFromMemberAndToMemberSame" sfwMode="All" sfwStatus="Active" />
  </harderror>
  <validatedelete>
    <item ID="IsStatusPosted" sfwMode="All" sfwStatus="Active" />
  </validatedelete>
  <groupslist />
  <updateablecdo />
  <commonproperties />
  <queries>
    <query ID="GetTransferredContribution" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="select *,ORG.ORG_NAME AS EMPLOYER_NAME, ORG3.ORG_NAME AS PROVIDER_NAME&#xD;&#xA; from dbo.SGT_PERSON_ACCOUNT_DEFERRED_COMP_TRANSFER_CONTRIBUTION  transfer WITH(NOLOCK)  &#xD;&#xA;inner join dbo.SGT_PERSON_ACCOUNT_DEFERRED_COMP_CONTRIBUTION cont WITH(NOLOCK)  &#xD;&#xA;on transfer. DEFERRED_COMP_CONTRIBUTION_ID = cont.DEFERRED_COMP_CONTRIBUTION_ID &#xD;&#xA;LEFT OUTER JOIN SGT_PERSON_EMPLOYMENT_DETAIL DET WITH(NOLOCK) ON DET.PERSON_EMPLOYMENT_DTL_ID = CONT.PERSON_EMPLOYMENT_DTL_ID&#xD;&#xA;LEFT OUTER JOIN SGT_PERSON_EMPLOYMENT EMP WITH(NOLOCK) ON EMP.PERSON_EMPLOYMENT_ID = DET.PERSON_EMPLOYMENT_ID&#xD;&#xA;LEFT OUTER JOIN SGT_ORGANIZATION ORG WITH(NOLOCK) ON ORG.ORG_ID = EMP.ORG_ID&#xD;&#xA;LEFT OUTER JOIN SGT_PERSON_ACCOUNT_DEFERRED_COMP_PROVIDER DEFPRO WITH(NOLOCK) ON DEFPRO.PERSON_EMPLOYMENT_ID = DET.PERSON_EMPLOYMENT_ID  &#xD;&#xA;LEFT OUTER JOIN SGT_ORG_PLAN OP WITH(NOLOCK) ON OP.ORG_PLAN_ID = DEFPRO.PROVIDER_ORG_PLAN_ID &#xD;&#xA;LEFT OUTER  JOIN SGT_ORGANIZATION ORG3 WITH(NOLOCK) ON ORG3.ORG_ID = OP.ORG_ID&#xD;&#xA;where transfer.PERSON_ACCOUNT_DEFERRED_COMP_TRANSFER_ID = @personAccountTransferContribution&#xD;&#xA;AND DEFPRO.START_DATE &lt;&gt; ISNULL(DEFPRO.END_DATE,'99991231')">
      <parameters>
        <parameter ID="@personAccountTransferContribution" sfwDataType="int" />
      </parameters>
    </query>
    <query ID="LoadTransferredRecords" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="select b.* from dbo.SGT_PERSON_ACCOUNT_DEFERRED_COMP_TRANSFER a WITH(NOLOCK)&#xD;&#xA;inner join dbo.SGT_PERSON_ACCOUNT_DEFERRED_COMP_TRANSFER_CONTRIBUTION b WITH(NOLOCK) &#xD;&#xA;on a.PERSON_ACCOUNT_DEFERRED_COMP_TRANSFER_ID = b.PERSON_ACCOUNT_DEFERRED_COMP_TRANSFER_ID&#xD;&#xA;where &#xD;&#xA;b.DEFERRED_COMP_CONTRIBUTION_ID = @defCompContributionID&#xD;&#xA;and &#xD;&#xA;( a.from_person_account_id = @PersonAccountId&#xD;&#xA;or a.to_person_account_id = @PersonAccountId)">
      <parameters>
        <parameter ID="@defCompContributionID" sfwDataType="int" />
        <parameter ID="@PersonAccountId" sfwDataType="int" />
      </parameters>
    </query>
  </queries>
  <attributes>
    <attribute ID="PersonAccountDeferredCompTransferId" sfwType="Column" sfwValue="person_account_deferred_comp_transfer_id" sfwKeyNo="1" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="True" sfwDataType="int" sfwRequired="False" />
    <attribute ID="TransferDate" sfwType="Column" sfwValue="transfer_date" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="True" sfwIsIdentity="False" sfwDataType="DateTime" sfwRequired="False" />
    <attribute ID="FromPersonAccountId" sfwType="Column" sfwValue="from_person_account_id" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="int" sfwRequired="False" />
    <attribute ID="ToPersonAccountId" sfwType="Column" sfwValue="to_person_account_id" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="int" sfwRequired="False" />
    <attribute ID="Comment" sfwType="Column" sfwValue="comment" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="True" sfwIsIdentity="False" sfwDataType="string" sfwRequired="False" sfwLength="2000" />
    <attribute ID="TransferTypeDescription" sfwType="Description" sfwValue="transfer_type_description" />
    <attribute ID="TransferTypeId" sfwType="Column" sfwValue="transfer_type_id" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwCodeID="2516" sfwDataType="int" sfwRequired="False" />
    <attribute ID="TransferTypeValue" sfwType="Column" sfwValue="transfer_type_value" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="True" sfwIsIdentity="False" sfwDataType="string" sfwRequired="False" sfwLength="4" />
    <attribute ID="StatusDescription" sfwType="Description" sfwValue="status_description" />
    <attribute ID="StatusId" sfwType="Column" sfwValue="status_id" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwCodeID="353" sfwDataType="int" sfwRequired="False" />
    <attribute ID="StatusValue" sfwType="Column" sfwValue="status_value" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="string" sfwRequired="False" sfwLength="4" />
    <attribute ID="PostedDate" sfwType="Column" sfwValue="posted_date" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="True" sfwIsIdentity="False" sfwDataType="DateTime" sfwRequired="False" />
    <attribute ID="PostedBy" sfwType="Column" sfwValue="posted_by" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="True" sfwIsIdentity="False" sfwDataType="string" sfwRequired="False" sfwLength="50" />
    <attribute ID="CreatedBy" sfwType="Column" sfwValue="created_by" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="string" sfwRequired="False" sfwLength="50" />
    <attribute ID="CreatedDate" sfwType="Column" sfwValue="created_date" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="DateTime" sfwRequired="False" />
    <attribute ID="ModifiedBy" sfwType="Column" sfwValue="modified_by" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="string" sfwRequired="False" sfwLength="50" />
    <attribute ID="ModifiedDate" sfwType="Column" sfwValue="modified_date" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="DateTime" sfwRequired="False" />
    <attribute ID="UpdateSeq" sfwType="Column" sfwValue="update_seq" sfwKeyNo="0" sfwIsSequence="False" sfwIsNull="False" sfwIsIdentity="False" sfwDataType="int" sfwRequired="False" />
    <attribute ID="objFromPADefComp" sfwType="Object" sfwEntity="entPersonAccountDeferredComp" sfwValue="ibusFromPADefComp" />
    <attribute sfwDataType="int" sfwType="Property" ID="IintTransferToPersonId" sfwValue="icdoPersonAccountDeferredCompTransfer.iintTransferToPersonId" />
    <attribute ID="objToPADefComp" sfwType="Object" sfwEntity="entPersonAccountDeferredComp" sfwValue="ibusToPADefComp" />
    <attribute sfwType="Collection" sfwEntity="entPersonAccountDeferredCompContribution" ID="lstPersonAccountDefCompTransferSourceContribution" sfwValue="iclbPersonAccountDefCompTransferSourceContribution" />
    <attribute sfwType="Collection" sfwEntity="entPersonAccountDeferredCompTransferContribution" ID="lstPersonAccountDefCompTransferDestinationContribution" sfwValue="iclbPersonAccountDefCompTransferDestinationContribution" />
    <attribute sfwDataType="string" sfwType="Property" ID="IstrFromPersonName" sfwValue="icdoPersonAccountDeferredCompTransfer.istrFromPersonName" />
    <attribute sfwDataType="string" sfwType="Property" ID="IstrToPersonName" sfwValue="icdoPersonAccountDeferredCompTransfer.istrToPersonName" />
    <attribute sfwDataType="decimal" sfwType="Property" ID="IdecPayPeriodContributionAmount" sfwValue="icdoPersonAccountDeferredCompTransfer.idecPayPeriodContributionAmount" />
    <attribute sfwDataType="" sfwType="Property" ID="SoftErrors" sfwValue="ibusSoftErrors" />
  </attributes>
  <objectmethods>
    <method ID="btnPost_Click" sfwReturnType="ArrayList" />
    <method ID="LoadErrors" sfwReturnType="Void" />
    <method ID="LoadDestinationContributionDetails" sfwReturnType="Void" />
  </objectmethods>
</entity>