<form ID="nfmProcessCreatingReceivableAgainstPaymentHistory" sfwActive="True" sfwStatus="Review" sfwType="WorkflowMap" sfwRemoveDeletedActivities="False">
  <activity sfwDisplayName="Receivable Payment History Change" sfwReferenceID="payment_history_reference_id" sfwFirstActivityFlag="True" sfwLastActivityFlag="False">
    <form sfwMode="new" sfwFormName="wfmPaymentHistoryLookup">
      <parameter sfwParameterSource="Criteria Field" sfwParamaterName="phh.person_id" sfwFieldName="phh.person_id" sfwParameterValue="ibusProcessInstance.icdoProcessInstance.person_id" sfwValueSource="Object Field" sfwDataType="int" />
    </form>
    <form sfwMode="update" sfwFormName="wfmPaymentHistoryMaintenance">
      <parameter sfwParameterSource="FindPaymentHistoryHeader" sfwParamaterName="Aintpaymenthistoryid" sfwFieldName="aintReferenceID" sfwParameterValue="payment_history_reference_id" sfwValueSource="Parameter" sfwDataType="int" />
    </form>
  </activity>
  <activity sfwDisplayName="Approve Receivable and Create Recovery" sfwReferenceID="payment_history_reference_id" sfwFirstActivityFlag="False" sfwLastActivityFlag="False">
    <form sfwMode="new" sfwFormName="wfmPaymentHistoryLookup">
      <parameter sfwParameterSource="Criteria Field" sfwParamaterName="phh.person_id" sfwFieldName="phh.person_id" sfwParameterValue="ibusProcessInstance.icdoProcessInstance.person_id" sfwValueSource="Object Field" sfwDataType="int" />
    </form>
    <form sfwMode="update" sfwFormName="wfmPaymentHistoryMaintenance">
      <parameter sfwParameterSource="FindPaymentHistoryHeader" sfwParamaterName="Aintpaymenthistoryid" sfwFieldName="aintReferenceID" sfwParameterValue="payment_history_reference_id" sfwValueSource="Parameter" sfwDataType="int" />
    </form>
  </activity>
  <activity sfwDisplayName="Approve Recovery" sfwFirstActivityFlag="False" sfwLastActivityFlag="True">
    <form sfwMode="new" sfwFormName="wfmPayeeAccountLookup">
      <parameter sfwParameterSource="Criteria Field" sfwParamaterName="memberperslinkid" sfwFieldName="memberperslinkid" sfwParameterValue="ibusProcessInstance.icdoProcessInstance.person_id" sfwValueSource="Object Field" sfwDataType="int" />
    </form>
    <form sfwMode="update" sfwFormName="wfmPayeeAccountMaintenance">
      <parameter sfwParameterSource="FindPayeeAccount" sfwParamaterName="Aintpayeeaccountid" sfwFieldName="aintpayeeaccountid" sfwParameterValue="payee_account_reference_id" sfwValueSource="Parameter" sfwDataType="int" />
    </form>
  </activity>
  <ProcessVariables>
    <ProcessVariable ID="payment_history_reference_id" sfwObjectID="busPaymentHistoryHeader" sfwObjectField="icdoPaymentHistoryHeader.payment_history_header_id" />
    <ProcessVariable ID="payee_account_reference_id" sfwObjectID="busPayeeAccount" sfwObjectField="icdoPayeeAccount.payee_account_id" />
  </ProcessVariables>
</form>